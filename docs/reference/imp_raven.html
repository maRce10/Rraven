<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Import 'Raven' selections — imp_raven • Rraven</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Import 'Raven' selections — imp_raven" />

<meta property="og:description" content="imp_raven imports 'Raven' selection files simultaneously from many files. Files must be in '.txt' format." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Rraven</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">1.0.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/Rraven.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/maRce10/Rraven">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Import 'Raven' selections</h1>
    <small class="dont-index">Source: <a href='https://github.com/maRce10/Rraven/blob/master/R/imp_raven.R'><code>R/imp_raven.R</code></a></small>
    <div class="hidden name"><code>imp_raven.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p><code>imp_raven</code> imports 'Raven' selection files simultaneously from many files. Files must be in '.txt' format.</p>
    
    </div>

    <pre class="usage"><span class='fu'>imp_raven</span>(<span class='kw'>path</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>sound.file.col</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>all.data</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>recursive</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
 <span class='kw'>name.from.file</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>ext.case</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>freq.cols</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>waveform</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
 <span class='kw'>parallel</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>pb</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>unread</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>rm.dup</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>path</th>
      <td><p>A character string indicating the path of the directory in which to look for the 'Raven' selection (text) files. 
If not provided (default) the function searches into the current working directory.</p></td>
    </tr>
    <tr>
      <th>sound.file.col</th>
      <td><p>A character string with the name of the column containing the sound files in 
the selection text files. Default is <code>NULL</code>. If provided, the output data
frame will contained all columns needed for subsequent analysis in the acoustic analysis package <code>warbleR</code>. 
Duplicated rows, as when "waveform" and "spectrogram" information are included for the same selection, will be removed.
All selection files must contain "Selection", "Begin.Time" and "End.Time" columns.</p></td>
    </tr>
    <tr>
      <th>all.data</th>
      <td><p>Logical. If <code>TRUE</code> all columns in the selection files are returned, 
keeping the name columns as in the 'Raven' files. Default is <code>FALSE</code>. Columns absent in some selection files will 
be filled with NA's. Note that when Raven selection files contain data from multiple sound files the  "Begin.Time" and 
"End.Time" columns are relative to the position of the sound files in sequence of files riginally displayed by Raven.
This data is corrected to the absolute time for each sound file only if <code>all.data = FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>recursive</th>
      <td><p>Logical. If <code>TRUE</code> the listing recurse into sub-directories.</p></td>
    </tr>
    <tr>
      <th>name.from.file</th>
      <td><p>Logical. If <code>TRUE</code> the sound file names are extracted from the selection text file name. 
It asssumes that selections files contained the suffix "Table.1.selections.txt" or "selections.txt". 
Note that by default it will assume that the extension file name is ".wav". This can be control using the
argumet 'ext.wav'. Default is <code>FALSE</code>). Ignored if sound.file.col' is provided and/or all.data is <code>TRUE</code>).</p></td>
    </tr>
    <tr>
      <th>ext.case</th>
      <td><p>Character string of length 1 to specify whether sound file extensions are in upper or lower case. This should match the extension of the
of the .wav files from which the selection were made. It must be either 'upper' or 'lower'. Only needed when 'name.from.file' is <code>TRUE</code>. 
Ignored if 'sound.file.col' is provided and/or all.data is <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>freq.cols</th>
      <td><p>Logical. If <code>TRUE</code> 'Low Freq' and 'High Freq' columns are also imported. Ignored if all.data is <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>waveform</th>
      <td><p>Logical to control if waveform view data should be included (this data is typically duplicated in spectrogram view data).  Default is <code>FALSE</code> (not to include it).</p></td>
    </tr>
    <tr>
      <th>parallel</th>
      <td><p>Numeric. Controls whether parallel computing is applied.
It specifies the number of cores to be used. Default is 1 (i.e. no parallel computing).</p></td>
    </tr>
    <tr>
      <th>pb</th>
      <td><p>Logical argument to control progress bar. Default is <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>unread</th>
      <td><p>Logical. If <code>TRUE</code> a list (instead of a data frame). The first element of the list contains the selections\
whole the second one is a character vector with the names of sound files that could not be read. Default is <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>rm.dup</th>
      <td><p>Logical. If <code>TRUE</code> duplicated rows and columns are removed. Usefull when 
selection files have been duplicated. Default is <code>FALSE</code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A single data frame with information of the selection files. If <code>unread = TRUE</code> the function returns a list of length 2 with
 the selection data frame and a vector with the names of files that could not be read (see 'unread' argument).  
 If 'all.data' argument is set to <code>FALSE</code> the data frame contains the following columns: selec, start, end, and selec.file. 
 If sound.file.col is provided the data frame  will also contain a 'sound.files' column. In addition, all rows with duplicated 
 data are removed. This is useful when both spectrogram and waveform views are included in the 'Raven' selection files. If all.data is set to <code>TRUE</code> then all columns in the 'Raven' selection files are returned. 
 If individual selection files contain information about multiple sound files the function will correct the time
 parameters (start and end) only if 1) the 'File Offset (s)' is also included in the selection file and 2) the sound file column has been provided (using 'sound.file.col' or 'name.from.file' arguments) and 3) 'all.data' is <code>FALSE</code>.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The function import 'Raven' selection data from many files simultaneously. Files must be in '.txt' format. Selection 
files including data from mulitple recordings can also be imported.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='imp_syrinx.html'>imp_syrinx</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'>#load data </span>
<span class='fu'>data</span>(<span class='no'>selection_files</span>)

<span class='co'># set temporary directory</span>
<span class='co'># setwd(tempdir())</span>

<span class='co'>#save 'Raven' selection tables in the temporary directory </span>
<span class='no'>out</span> <span class='kw'>&lt;-</span> <span class='fu'>lapply</span>(<span class='fl'>1</span>:<span class='fl'>2</span>, <span class='kw'>function</span>(<span class='no'>x</span>)
<span class='fu'>writeLines</span>(<span class='no'>selection_files</span><span class='kw'>[[</span><span class='no'>x</span>]], <span class='kw'>con</span> <span class='kw'>=</span> <span class='fu'>names</span>(<span class='no'>selection_files</span>)[<span class='no'>x</span>]))</div><div class='input'><span class='co'>#providing the name of the column with the sound file names</span>
<span class='no'>rvn.dat</span> <span class='kw'>&lt;-</span> <span class='fu'>imp_raven</span>(<span class='kw'>sound.file.col</span> <span class='kw'>=</span> <span class='st'>"Begin.File"</span>, <span class='kw'>all.data</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt;    |                                                  | 0 % ~calculating     |++                                                | 2 % ~00s             |+++                                               | 5 % ~00s             |++++                                              | 7 % ~00s             |+++++                                             | 9 % ~00s             |++++++                                            | 12% ~00s             |+++++++                                           | 14% ~00s             |+++++++++                                         | 16% ~00s             |++++++++++                                        | 19% ~00s             |+++++++++++                                       | 21% ~00s             |++++++++++++                                      | 23% ~00s             |+++++++++++++                                     | 26% ~00s             |++++++++++++++                                    | 28% ~00s             |++++++++++++++++                                  | 30% ~00s             |+++++++++++++++++                                 | 33% ~00s             |++++++++++++++++++                                | 35% ~00s             |+++++++++++++++++++                               | 37% ~00s             |++++++++++++++++++++                              | 40% ~00s             |+++++++++++++++++++++                             | 42% ~00s             |+++++++++++++++++++++++                           | 44% ~00s             |++++++++++++++++++++++++                          | 47% ~00s             |+++++++++++++++++++++++++                         | 49% ~00s             |++++++++++++++++++++++++++                        | 51% ~00s             |+++++++++++++++++++++++++++                       | 53% ~00s             |++++++++++++++++++++++++++++                      | 56% ~00s             |++++++++++++++++++++++++++++++                    | 58% ~00s             |+++++++++++++++++++++++++++++++                   | 60% ~00s             |++++++++++++++++++++++++++++++++                  | 63% ~00s             |+++++++++++++++++++++++++++++++++                 | 65% ~00s             |++++++++++++++++++++++++++++++++++                | 67% ~00s             |+++++++++++++++++++++++++++++++++++               | 70% ~00s             |+++++++++++++++++++++++++++++++++++++             | 72% ~00s             |++++++++++++++++++++++++++++++++++++++            | 74% ~00s             |+++++++++++++++++++++++++++++++++++++++           | 77% ~00s             |++++++++++++++++++++++++++++++++++++++++          | 79% ~00s             |+++++++++++++++++++++++++++++++++++++++++         | 81% ~00s             |++++++++++++++++++++++++++++++++++++++++++        | 84% ~00s             |++++++++++++++++++++++++++++++++++++++++++++      | 86% ~00s             |+++++++++++++++++++++++++++++++++++++++++++++     | 88% ~00s             |++++++++++++++++++++++++++++++++++++++++++++++    | 91% ~00s             |+++++++++++++++++++++++++++++++++++++++++++++++   | 93% ~00s             |++++++++++++++++++++++++++++++++++++++++++++++++  | 95% ~00s             |+++++++++++++++++++++++++++++++++++++++++++++++++ | 98% ~00s             |++++++++++++++++++++++++++++++++++++++++++++++++++| 100% elapsed = 00s</div><div class='input'>
# View(rvn.dat)
</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Marcelo Araya-Salas (<a href='mailto:araya-salas@cornell.edu'>araya-salas@cornell.edu</a>)

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Marcelo Araya-Salas.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

