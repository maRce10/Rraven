<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
<center>
<font size="7"><b>Rraven: Connecting R and Raven Sound Analysis Software</b></font>
</center> • Rraven</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="&lt;center&gt;
&lt;font size=">
</head>
<body>
<b>Rraven: Connecting R and Raven Sound Analysis Software</b>
" /&gt;

<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Rraven</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/Rraven.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/maRce10/Rraven">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><script src="Rraven_files/kePrint-0.0.1/kePrint.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1><center>
<font size="7"><b>Rraven: Connecting R and Raven Sound Analysis Software</b></font>
</center></h1>
                        <h4 class="author"><center>
<a href="http://marceloarayasalas.weebly.com/">Marcelo Araya-Salas, PhD</a>
</center></h4>
            
            <h4 class="date"><center>
“2019-05-23”
</center></h4>
      
      <small class="dont-index">Source: <a href="https://github.com/maRce10/Rraven/blob/master/vignettes/Rraven.Rmd"><code>vignettes/Rraven.Rmd</code></a></small>
      <div class="hidden name"><code>Rraven.Rmd</code></div>

    </div>

    
    
<p> </p>
<p>The <code>Rraven</code> package is designed to facilitate the exchange of data between R and <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven sound analysis software</a> (<a href="http://www.birds.cornell.edu">Cornell Lab of Ornithology</a>). <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a> provides very powerful tools for the analysis of (animal) sounds. R can simplify the automatization of complex routines of analyses. Furthermore, R packages as <a href="https://cran.r-project.org/package=warbleR">warbleR</a>, <a href="https://cran.r-project.org/package=seewave">seewave</a> and <a href="https://cran.r-project.org/package=monitoR">monitoR</a> (among others) provide additional methods of analysis, working as a perfect complement for those found in <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a>. Hence, bridging these applications can largely expand the bioacoustician’s toolkit.</p>
<p>Currently, most analyses in <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a> cannot be run in the background from a command terminal. Thus, most <code>Rraven</code> functions are design to simplify the exchange of data between the two programs, and in some cases, export files to <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a> for further analysis. This vignette provides detailed examples for each function in <code>Rraven</code>, including both the R code as well as the additional steps in <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a> required to fully accomplished the analyses. Raven Pro must be installed to be able to run some of the code. Note that the animations explaining these additional <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a> steps are shown in more detail in the <a href="https://github.com/maRce10/Rraven">github</a> version of this vignette, which can be downloaded as follows (saves the file “Rraven.hitgub.html” in your current working directory):</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/download.file">download.file</a></span>(<span class="dt">url =</span> <span class="st">"https://github.com/maRce10/Rraven/raw/master/gifs/Rraven.hitgub.html"</span>, <span class="dt">destfile =</span> <span class="st">"Rraven.hitgub.html"</span>)</a></code></pre></div>
<p> </p>
<p>The downloaded file can be opened by any internet browser.</p>
<p>Before getting into the functions, the packages must be installed and loaded. I recommend using the latest developmental version, which is found in <a href="https://github.com/maRce10/Rraven">github</a>. To do so, you need the R package <a href="https://cran.r-project.org/package=devtools">devtools</a> (which of course should be installed!). Some <a href="https://cran.r-project.org/package=warbleR">warbleR</a> functions and example data sets will be used, so <a href="https://cran.r-project.org/package=warbleR">warbleR</a> should be installed as well:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/reexports">install_github</a></span>(<span class="st">"maRce10/warbleR"</span>)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"></a>
<a class="sourceLine" id="cb2-3" data-line-number="3">devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/reexports">install_github</a></span>(<span class="st">"maRce10/Rraven"</span>)</a>
<a class="sourceLine" id="cb2-4" data-line-number="4"></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co">#from CRAN would be</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="co">#install.packages("warbleR")</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="co">#load packages</span></a>
<a class="sourceLine" id="cb2-9" data-line-number="9"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(warbleR)</a>
<a class="sourceLine" id="cb2-10" data-line-number="10"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(Rraven)</a></code></pre></div>
<p> </p>
<p>Let’s also use a temporary folder as the working directory in which to save all sound files and data files:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/getwd">setwd</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/tempfile">tempdir</a></span>())</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="co">#load example data</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(<span class="dt">list =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"Phae.long1"</span>, <span class="st">"Phae.long2"</span>, <span class="st">"Phae.long3"</span>, <span class="st">"Phae.long4"</span>, <span class="st">"selec.table"</span>, <span class="st">"selection_files"</span>))</a>
<a class="sourceLine" id="cb3-5" data-line-number="5"></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="co">#save sound files  in temporary directory</span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="kw">writeWave</span>(Phae.long1,<span class="st">"Phae.long1.wav"</span>)</a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="kw">writeWave</span>(Phae.long2,<span class="st">"Phae.long2.wav"</span>)</a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="kw">writeWave</span>(Phae.long3,<span class="st">"Phae.long3.wav"</span>)</a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="kw">writeWave</span>(Phae.long4,<span class="st">"Phae.long4.wav"</span>)</a>
<a class="sourceLine" id="cb3-11" data-line-number="11"></a>
<a class="sourceLine" id="cb3-12" data-line-number="12"><span class="co">#save Raven selection tables in the temporary directory</span></a>
<a class="sourceLine" id="cb3-13" data-line-number="13">out &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/lapply">lapply</a></span>(<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="cf">function</span>(x)</a>
<a class="sourceLine" id="cb3-14" data-line-number="14"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/writeLines">writeLines</a></span>(selection_files[[x]], <span class="dt">con =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/names">names</a></span>(selection_files)[x]))</a>
<a class="sourceLine" id="cb3-15" data-line-number="15"></a>
<a class="sourceLine" id="cb3-16" data-line-number="16"><span class="co">#this is the temporary directory location (of course different each time is run)</span></a>
<a class="sourceLine" id="cb3-17" data-line-number="17"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/getwd">getwd</a></span>() </a></code></pre></div>
<p> </p>
<hr>
<div id="importing-data-from-raven" class="section level2">
<h2 class="hasAnchor">
<a href="#importing-data-from-raven" class="anchor"></a>Importing data from Raven</h2>
<div id="imp_raven" class="section level3">
<h3 class="hasAnchor">
<a href="#imp_raven" class="anchor"></a><em>imp_raven</em>
</h3>
<p>This function imports <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a> selection tables. Multiple files can be imported at once. <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a> selection tables including data from multiple recordings can also be imported. It returns a single data frame with the information contained in the selection files. We already have 2 <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a> selection tables in the working directory:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list.files">list.files</a></span>(<span class="dt">path =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/tempfile">tempdir</a></span>(), <span class="dt">pattern =</span> <span class="st">"</span><span class="ch">\\</span><span class="st">.txt$"</span>)</a></code></pre></div>
<pre><code>[1] "LBH 1 selection table example.txt" "LBH 2 selection table example.txt" "LBH 3 selection table example.txt" "LBH 4 selection table example.txt"</code></pre>
<p> </p>
<p>This code shows how to import all the data contained in those files into R:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"> <span class="co">#providing the name of the column with the sound file names</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2">rvn.dat &lt;-<span class="st"> </span><span class="kw"><a href="../reference/imp_raven.html">imp_raven</a></span>(<span class="dt">all.data =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb6-3" data-line-number="3"></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(rvn.dat)</a></code></pre></div>
<div style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:808px; ">
<table class="table table table-striped table-hover table-condensed table-responsive">
<thead><tr>
<th style="text-align:center;">
Selection
</th>
<th style="text-align:center;">
View
</th>
<th style="text-align:center;">
Channel
</th>
<th style="text-align:center;">
Begin Time (s)
</th>
<th style="text-align:center;">
End Time (s)
</th>
<th style="text-align:center;">
Low Freq (Hz)
</th>
<th style="text-align:center;">
High Freq (Hz)
</th>
<th style="text-align:center;">
Begin File
</th>
<th style="text-align:center;">
channel
</th>
<th style="text-align:center;">
Begin Path
</th>
<th style="text-align:center;">
selec.file
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
Spectrogram 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1.1693549
</td>
<td style="text-align:center;">
1.3423884
</td>
<td style="text-align:center;">
2220.105
</td>
<td style="text-align:center;">
8604.378
</td>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
/tmp/RtmpWpOeaR/Phae.long1.wav
</td>
<td style="text-align:center;">
LBH 1 selection table example.txt
</td>
</tr>
<tr>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
Spectrogram 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
2.1584085
</td>
<td style="text-align:center;">
2.3214565
</td>
<td style="text-align:center;">
2169.437
</td>
<td style="text-align:center;">
8807.053
</td>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
/tmp/RtmpWpOeaR/Phae.long1.wav
</td>
<td style="text-align:center;">
LBH 1 selection table example.txt
</td>
</tr>
<tr>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
Spectrogram 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.3433366
</td>
<td style="text-align:center;">
0.5182553
</td>
<td style="text-align:center;">
2218.294
</td>
<td style="text-align:center;">
8756.604
</td>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
/tmp/RtmpWpOeaR/Phae.long1.wav
</td>
<td style="text-align:center;">
LBH 1 selection table example.txt
</td>
</tr>
<tr>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
Spectrogram 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.1595983
</td>
<td style="text-align:center;">
0.2921692
</td>
<td style="text-align:center;">
2316.862
</td>
<td style="text-align:center;">
8822.316
</td>
<td style="text-align:center;">
Phae.long2.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
/tmp/RtmpWpOeaR/Phae.long2.wav
</td>
<td style="text-align:center;">
LBH 2 selection table example.txt
</td>
</tr>
<tr>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
Spectrogram 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1.4570585
</td>
<td style="text-align:center;">
1.5832087
</td>
<td style="text-align:center;">
2284.006
</td>
<td style="text-align:center;">
8888.027
</td>
<td style="text-align:center;">
Phae.long2.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
/tmp/RtmpWpOeaR/Phae.long2.wav
</td>
<td style="text-align:center;">
LBH 2 selection table example.txt
</td>
</tr>
<tr>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
Spectrogram 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.6265520
</td>
<td style="text-align:center;">
0.7577715
</td>
<td style="text-align:center;">
3006.834
</td>
<td style="text-align:center;">
8822.316
</td>
<td style="text-align:center;">
Phae.long3.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
/tmp/RtmpWpOeaR/Phae.long3.wav
</td>
<td style="text-align:center;">
LBH 3 selection table example.txt
</td>
</tr>
</tbody>
</table>
</div>
<p> </p>
<p>Note that the ‘waveform’ view data has been removed. It can also be imported as follows (but note that the example selection tables have no waveform data):</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">rvn.dat &lt;-<span class="st"> </span><span class="kw"><a href="../reference/imp_raven.html">imp_raven</a></span>(<span class="dt">all.data =</span> <span class="ot">TRUE</span>, <span class="dt">waveform =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p> </p>
<p><a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a> selections can also be imported in a ‘selection.table’ format so it can be directly input into <a href="https://cran.r-project.org/package=warbleR">warbleR</a> functions. To do this you need to set <code>warbler.format = FALSE</code>:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"> <span class="co">#providing the name of the column with the sound file names</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2">rvn.dat &lt;-<span class="st"> </span><span class="kw"><a href="../reference/imp_raven.html">imp_raven</a></span>(<span class="dt">sound.file.col =</span> <span class="st">"End.File"</span>, <span class="dt">warbler.format =</span>  <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb8-3" data-line-number="3"></a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(rvn.dat)</a></code></pre></div>
<table class="table table table-striped table-hover table-condensed table-responsive">
<thead><tr>
<th style="text-align:center;">
selec
</th>
<th style="text-align:center;">
Channel
</th>
<th style="text-align:center;">
start
</th>
<th style="text-align:center;">
end
</th>
<th style="text-align:center;">
bottom.freq
</th>
<th style="text-align:center;">
top.freq
</th>
<th style="text-align:center;">
sound.files
</th>
<th style="text-align:center;">
channel
</th>
<th style="text-align:center;">
selec.file
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1.169355
</td>
<td style="text-align:center;">
1.342388
</td>
<td style="text-align:center;">
2.22011
</td>
<td style="text-align:center;">
8.60438
</td>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
LBH 1 selection table example.txt
</td>
</tr>
<tr>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
2.158408
</td>
<td style="text-align:center;">
2.321457
</td>
<td style="text-align:center;">
2.16944
</td>
<td style="text-align:center;">
8.80705
</td>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
LBH 1 selection table example.txt
</td>
</tr>
<tr>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.343337
</td>
<td style="text-align:center;">
0.518255
</td>
<td style="text-align:center;">
2.21829
</td>
<td style="text-align:center;">
8.75660
</td>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
LBH 1 selection table example.txt
</td>
</tr>
<tr>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.159598
</td>
<td style="text-align:center;">
0.292169
</td>
<td style="text-align:center;">
2.31686
</td>
<td style="text-align:center;">
8.82232
</td>
<td style="text-align:center;">
Phae.long2.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
LBH 2 selection table example.txt
</td>
</tr>
<tr>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1.457058
</td>
<td style="text-align:center;">
1.583209
</td>
<td style="text-align:center;">
2.28401
</td>
<td style="text-align:center;">
8.88803
</td>
<td style="text-align:center;">
Phae.long2.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
LBH 2 selection table example.txt
</td>
</tr>
<tr>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.626552
</td>
<td style="text-align:center;">
0.757771
</td>
<td style="text-align:center;">
3.00683
</td>
<td style="text-align:center;">
8.82232
</td>
<td style="text-align:center;">
Phae.long3.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
LBH 3 selection table example.txt
</td>
</tr>
</tbody>
</table>
<p> </p>
<p>The data frame contains the following columns: sound.files, channel, selec, start, end, and selec.file. You can also import the frequency range parameters in the ‘selection.table’ by setting ‘freq.cols’ tp <code>TRUE</code>. The data frame returned by “imp_raven” (when in the ‘warbleR’ format) can be input into several <a href="https://cran.r-project.org/package=warbleR">warbleR</a> functions for further analysis. For instance, the following code runs additional parameter measurements on the imported selections:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="co"># convert to class selection.table</span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2">rvn.dat.st &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/warbleR/topics/make.selection.table">make.selection.table</a></span>(rvn.dat)</a>
<a class="sourceLine" id="cb9-3" data-line-number="3"></a>
<a class="sourceLine" id="cb9-4" data-line-number="4">sp &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/warbleR/topics/specan">specan</a></span>(<span class="dt">X =</span> rvn.dat, <span class="dt">bp =</span> <span class="st">"frange"</span>, <span class="dt">wl =</span> <span class="dv">150</span>, <span class="dt">pb =</span> <span class="ot">FALSE</span>, <span class="dt">ovlp =</span> <span class="dv">90</span>)</a>
<a class="sourceLine" id="cb9-5" data-line-number="5"></a>
<a class="sourceLine" id="cb9-6" data-line-number="6"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(sp)</a></code></pre></div>
<pre><code>checking selections (step 1 of 2):
all selections are OK </code></pre>
<div style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:808px; ">
<table class="table table table-striped table-hover table-condensed table-responsive">
<thead><tr>
<th style="text-align:center;">
sound.files
</th>
<th style="text-align:center;">
selec
</th>
<th style="text-align:center;">
top.freq
</th>
<th style="text-align:center;">
bottom.freq
</th>
<th style="text-align:center;">
duration
</th>
<th style="text-align:center;">
meanfreq
</th>
<th style="text-align:center;">
sd
</th>
<th style="text-align:center;">
freq.median
</th>
<th style="text-align:center;">
freq.Q25
</th>
<th style="text-align:center;">
freq.Q75
</th>
<th style="text-align:center;">
freq.IQR
</th>
<th style="text-align:center;">
time.median
</th>
<th style="text-align:center;">
time.Q25
</th>
<th style="text-align:center;">
time.Q75
</th>
<th style="text-align:center;">
time.IQR
</th>
<th style="text-align:center;">
skew
</th>
<th style="text-align:center;">
kurt
</th>
<th style="text-align:center;">
sp.ent
</th>
<th style="text-align:center;">
time.ent
</th>
<th style="text-align:center;">
entropy
</th>
<th style="text-align:center;">
sfm
</th>
<th style="text-align:center;">
meandom
</th>
<th style="text-align:center;">
mindom
</th>
<th style="text-align:center;">
maxdom
</th>
<th style="text-align:center;">
dfrange
</th>
<th style="text-align:center;">
modindx
</th>
<th style="text-align:center;">
startdom
</th>
<th style="text-align:center;">
enddom
</th>
<th style="text-align:center;">
dfslope
</th>
<th style="text-align:center;">
meanpeakf
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
8.60438
</td>
<td style="text-align:center;">
2.22011
</td>
<td style="text-align:center;">
0.173033
</td>
<td style="text-align:center;">
5.98235
</td>
<td style="text-align:center;">
1.39969
</td>
<td style="text-align:center;">
6.33172
</td>
<td style="text-align:center;">
5.29658
</td>
<td style="text-align:center;">
6.86952
</td>
<td style="text-align:center;">
1.57294
</td>
<td style="text-align:center;">
0.076455
</td>
<td style="text-align:center;">
0.046568
</td>
<td style="text-align:center;">
0.117463
</td>
<td style="text-align:center;">
0.070895
</td>
<td style="text-align:center;">
1.99804
</td>
<td style="text-align:center;">
7.02156
</td>
<td style="text-align:center;">
0.943429
</td>
<td style="text-align:center;">
0.886904
</td>
<td style="text-align:center;">
0.836731
</td>
<td style="text-align:center;">
0.651002
</td>
<td style="text-align:center;">
6.49105
</td>
<td style="text-align:center;">
3.825
</td>
<td style="text-align:center;">
8.325
</td>
<td style="text-align:center;">
4.50
</td>
<td style="text-align:center;">
7.20000
</td>
<td style="text-align:center;">
6.975
</td>
<td style="text-align:center;">
7.575
</td>
<td style="text-align:center;">
3.46754
</td>
<td style="text-align:center;">
7.125
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
8.80705
</td>
<td style="text-align:center;">
2.16944
</td>
<td style="text-align:center;">
0.163048
</td>
<td style="text-align:center;">
5.99730
</td>
<td style="text-align:center;">
1.42293
</td>
<td style="text-align:center;">
6.21213
</td>
<td style="text-align:center;">
5.32875
</td>
<td style="text-align:center;">
6.88079
</td>
<td style="text-align:center;">
1.55205
</td>
<td style="text-align:center;">
0.076655
</td>
<td style="text-align:center;">
0.043903
</td>
<td style="text-align:center;">
0.115680
</td>
<td style="text-align:center;">
0.071777
</td>
<td style="text-align:center;">
1.91836
</td>
<td style="text-align:center;">
7.33432
</td>
<td style="text-align:center;">
0.946822
</td>
<td style="text-align:center;">
0.888565
</td>
<td style="text-align:center;">
0.841313
</td>
<td style="text-align:center;">
0.667865
</td>
<td style="text-align:center;">
6.71394
</td>
<td style="text-align:center;">
3.975
</td>
<td style="text-align:center;">
8.475
</td>
<td style="text-align:center;">
4.50
</td>
<td style="text-align:center;">
4.90000
</td>
<td style="text-align:center;">
6.825
</td>
<td style="text-align:center;">
7.275
</td>
<td style="text-align:center;">
2.75992
</td>
<td style="text-align:center;">
6.975
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
8.75660
</td>
<td style="text-align:center;">
2.21829
</td>
<td style="text-align:center;">
0.174919
</td>
<td style="text-align:center;">
6.02060
</td>
<td style="text-align:center;">
1.51554
</td>
<td style="text-align:center;">
6.42844
</td>
<td style="text-align:center;">
5.15281
</td>
<td style="text-align:center;">
6.98331
</td>
<td style="text-align:center;">
1.83050
</td>
<td style="text-align:center;">
0.090243
</td>
<td style="text-align:center;">
0.053452
</td>
<td style="text-align:center;">
0.127729
</td>
<td style="text-align:center;">
0.074277
</td>
<td style="text-align:center;">
2.49536
</td>
<td style="text-align:center;">
11.13912
</td>
<td style="text-align:center;">
0.945082
</td>
<td style="text-align:center;">
0.886654
</td>
<td style="text-align:center;">
0.837961
</td>
<td style="text-align:center;">
0.671589
</td>
<td style="text-align:center;">
6.53271
</td>
<td style="text-align:center;">
2.325
</td>
<td style="text-align:center;">
8.625
</td>
<td style="text-align:center;">
6.30
</td>
<td style="text-align:center;">
10.30952
</td>
<td style="text-align:center;">
2.925
</td>
<td style="text-align:center;">
7.275
</td>
<td style="text-align:center;">
24.86869
</td>
<td style="text-align:center;">
7.125
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long2.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
8.82232
</td>
<td style="text-align:center;">
2.31686
</td>
<td style="text-align:center;">
0.132571
</td>
<td style="text-align:center;">
6.39830
</td>
<td style="text-align:center;">
1.34041
</td>
<td style="text-align:center;">
6.59597
</td>
<td style="text-align:center;">
5.60732
</td>
<td style="text-align:center;">
7.38085
</td>
<td style="text-align:center;">
1.77353
</td>
<td style="text-align:center;">
0.076867
</td>
<td style="text-align:center;">
0.054300
</td>
<td style="text-align:center;">
0.103665
</td>
<td style="text-align:center;">
0.049364
</td>
<td style="text-align:center;">
1.56852
</td>
<td style="text-align:center;">
6.01639
</td>
<td style="text-align:center;">
0.942466
</td>
<td style="text-align:center;">
0.895480
</td>
<td style="text-align:center;">
0.843959
</td>
<td style="text-align:center;">
0.608618
</td>
<td style="text-align:center;">
6.48287
</td>
<td style="text-align:center;">
4.875
</td>
<td style="text-align:center;">
8.025
</td>
<td style="text-align:center;">
3.15
</td>
<td style="text-align:center;">
11.47619
</td>
<td style="text-align:center;">
4.875
</td>
<td style="text-align:center;">
6.225
</td>
<td style="text-align:center;">
10.18323
</td>
<td style="text-align:center;">
7.425
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long2.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
8.88803
</td>
<td style="text-align:center;">
2.28401
</td>
<td style="text-align:center;">
0.126150
</td>
<td style="text-align:center;">
6.31184
</td>
<td style="text-align:center;">
1.37004
</td>
<td style="text-align:center;">
6.60202
</td>
<td style="text-align:center;">
5.60983
</td>
<td style="text-align:center;">
7.21321
</td>
<td style="text-align:center;">
1.60338
</td>
<td style="text-align:center;">
0.076103
</td>
<td style="text-align:center;">
0.052849
</td>
<td style="text-align:center;">
0.097947
</td>
<td style="text-align:center;">
0.045098
</td>
<td style="text-align:center;">
2.46900
</td>
<td style="text-align:center;">
10.88435
</td>
<td style="text-align:center;">
0.935771
</td>
<td style="text-align:center;">
0.897677
</td>
<td style="text-align:center;">
0.840020
</td>
<td style="text-align:center;">
0.615104
</td>
<td style="text-align:center;">
6.17614
</td>
<td style="text-align:center;">
3.075
</td>
<td style="text-align:center;">
7.725
</td>
<td style="text-align:center;">
4.65
</td>
<td style="text-align:center;">
9.58065
</td>
<td style="text-align:center;">
5.625
</td>
<td style="text-align:center;">
5.775
</td>
<td style="text-align:center;">
1.18906
</td>
<td style="text-align:center;">
6.675
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long3.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
8.82232
</td>
<td style="text-align:center;">
3.00683
</td>
<td style="text-align:center;">
0.131220
</td>
<td style="text-align:center;">
6.61240
</td>
<td style="text-align:center;">
1.09312
</td>
<td style="text-align:center;">
6.67013
</td>
<td style="text-align:center;">
6.06721
</td>
<td style="text-align:center;">
7.34937
</td>
<td style="text-align:center;">
1.28215
</td>
<td style="text-align:center;">
0.063505
</td>
<td style="text-align:center;">
0.043043
</td>
<td style="text-align:center;">
0.089613
</td>
<td style="text-align:center;">
0.046571
</td>
<td style="text-align:center;">
1.77369
</td>
<td style="text-align:center;">
6.62602
</td>
<td style="text-align:center;">
0.930244
</td>
<td style="text-align:center;">
0.895888
</td>
<td style="text-align:center;">
0.833394
</td>
<td style="text-align:center;">
0.570215
</td>
<td style="text-align:center;">
6.75629
</td>
<td style="text-align:center;">
4.875
</td>
<td style="text-align:center;">
8.175
</td>
<td style="text-align:center;">
3.30
</td>
<td style="text-align:center;">
11.04546
</td>
<td style="text-align:center;">
5.475
</td>
<td style="text-align:center;">
8.025
</td>
<td style="text-align:center;">
19.43308
</td>
<td style="text-align:center;">
6.675
</td>
</tr>
</tbody>
</table>
</div>
<p> </p>
<p>And this code creates song catalogs:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/warbleR/topics/catalog">catalog</a></span>(<span class="dt">X =</span> rvn.dat.st[<span class="dv">1</span><span class="op">:</span><span class="dv">9</span>, ], <span class="dt">flim =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">1</span>, <span class="dv">10</span>), <span class="dt">nrow =</span> <span class="dv">3</span>, <span class="dt">ncol =</span> <span class="dv">3</span>, <span class="dt">same.time.scale =</span> F,</a>
<a class="sourceLine" id="cb11-2" data-line-number="2"> <span class="dt">ovlp =</span> <span class="dv">90</span>, <span class="dt">parallel =</span> <span class="dv">1</span>, <span class="dt">mar =</span> <span class="fl">0.01</span>, <span class="dt">wl =</span> <span class="dv">200</span>, <span class="dt">pal =</span> reverse.heat.colors, <span class="dt">width =</span> <span class="dv">20</span>,  <span class="dt">labels =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"sound.files"</span>, <span class="st">"selec"</span>), <span class="dt">legend =</span> <span class="dv">1</span>, </a>
<a class="sourceLine" id="cb11-3" data-line-number="3"> <span class="dt">tag.pal =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(terrain.colors), <span class="dt">tags =</span> <span class="st">"sound.files"</span>)</a></code></pre></div>
</div>
</div>
<div id="catalog" class="section level2">
<h2 class="hasAnchor">
<a href="#catalog" class="anchor"></a><img src="Catalog.jpeg" alt="catalog">
</h2>
<p>This is just to mention a few analysis that can be implemented in <a href="https://cran.r-project.org/package=warbleR">warbleR</a>.</p>
<p><code>Rraven</code> also contains the function <code>imp_syrinx</code> to import selections from <a href="www.syrinxpc.com">Syrinx sound analyis software</a> (although this program is not been maintained any longer).</p>
<div id="extract_ts" class="section level3">
<h3 class="hasAnchor">
<a href="#extract_ts" class="anchor"></a><em>extract_ts</em>
</h3>
<p>The function extracts parameters encoded as time series in <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a> selection tables. The resulting data frame can be directly input into functions for time series analysis of acoustic signals as in the <a href="https://cran.r-project.org/package=warbleR">warbleR</a> function <code>dfDTW</code>. The function needs an R data frame, so the data should have been previously imported using <code>imp_raven</code>. This example uses the <code>selection_file.ts</code> example data that comes with <code>Rraven</code>:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="co">#remove previous raven data files</span></a>
<a class="sourceLine" id="cb12-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/unlink">unlink</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list.files">list.files</a></span>(<span class="dt">pattern =</span> <span class="st">"</span><span class="ch">\\</span><span class="st">.txt$"</span>))</a>
<a class="sourceLine" id="cb12-3" data-line-number="3"></a>
<a class="sourceLine" id="cb12-4" data-line-number="4"><span class="co">#save Raven selection table in the temporary directory</span></a>
<a class="sourceLine" id="cb12-5" data-line-number="5"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/writeLines">writeLines</a></span>(selection_files[[<span class="dv">5</span>]], <span class="dt">con =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/names">names</a></span>(selection_files)[<span class="dv">5</span>])</a>
<a class="sourceLine" id="cb12-6" data-line-number="6"></a>
<a class="sourceLine" id="cb12-7" data-line-number="7">rvn.dat &lt;-<span class="st"> </span><span class="kw"><a href="../reference/imp_raven.html">imp_raven</a></span>(<span class="dt">all.data =</span> <span class="ot">TRUE</span>) </a>
<a class="sourceLine" id="cb12-8" data-line-number="8"></a>
<a class="sourceLine" id="cb12-9" data-line-number="9"><span class="co"># Peak freq contour dif length</span></a>
<a class="sourceLine" id="cb12-10" data-line-number="10">fcts &lt;-<span class="st"> </span><span class="kw"><a href="../reference/extract_ts.html">extract_ts</a></span>(<span class="dt">X =</span> rvn.dat, <span class="dt">ts.column =</span> <span class="st">"Peak Freq Contour (Hz)"</span>)</a>
<a class="sourceLine" id="cb12-11" data-line-number="11"> </a>
<a class="sourceLine" id="cb12-12" data-line-number="12"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(fcts)</a></code></pre></div>
<div style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:808px; ">
<table class="table table table-striped table-hover table-condensed table-responsive">
<thead><tr>
<th style="text-align:center;">
sound.files
</th>
<th style="text-align:center;">
selec
</th>
<th style="text-align:center;">
PFC..1
</th>
<th style="text-align:center;">
PFC..2
</th>
<th style="text-align:center;">
PFC..3
</th>
<th style="text-align:center;">
PFC..4
</th>
<th style="text-align:center;">
PFC..5
</th>
<th style="text-align:center;">
PFC..6
</th>
<th style="text-align:center;">
PFC..7
</th>
<th style="text-align:center;">
PFC..8
</th>
<th style="text-align:center;">
PFC..9
</th>
<th style="text-align:center;">
PFC..10
</th>
<th style="text-align:center;">
PFC..11
</th>
<th style="text-align:center;">
PFC..12
</th>
<th style="text-align:center;">
PFC..13
</th>
<th style="text-align:center;">
PFC..14
</th>
<th style="text-align:center;">
PFC..15
</th>
<th style="text-align:center;">
PFC..16
</th>
<th style="text-align:center;">
PFC..17
</th>
<th style="text-align:center;">
PFC..18
</th>
<th style="text-align:center;">
PFC..19
</th>
<th style="text-align:center;">
PFC..20
</th>
<th style="text-align:center;">
PFC..21
</th>
<th style="text-align:center;">
PFC..22
</th>
<th style="text-align:center;">
PFC..23
</th>
<th style="text-align:center;">
PFC..24
</th>
<th style="text-align:center;">
PFC..25
</th>
<th style="text-align:center;">
PFC..26
</th>
<th style="text-align:center;">
PFC..27
</th>
<th style="text-align:center;">
PFC..28
</th>
<th style="text-align:center;">
PFC..29
</th>
<th style="text-align:center;">
PFC..30
</th>
<th style="text-align:center;">
PFC..31
</th>
<th style="text-align:center;">
PFC..32
</th>
<th style="text-align:center;">
PFC..33
</th>
<th style="text-align:center;">
PFC..34
</th>
<th style="text-align:center;">
PFC..35
</th>
<th style="text-align:center;">
PFC..36
</th>
<th style="text-align:center;">
PFC..37
</th>
<th style="text-align:center;">
PFC..38
</th>
<th style="text-align:center;">
PFC..39
</th>
<th style="text-align:center;">
PFC..40
</th>
<th style="text-align:center;">
PFC..41
</th>
<th style="text-align:center;">
PFC..42
</th>
<th style="text-align:center;">
PFC..43
</th>
<th style="text-align:center;">
PFC..44
</th>
<th style="text-align:center;">
PFC..45
</th>
<th style="text-align:center;">
PFC..46
</th>
<th style="text-align:center;">
PFC..47
</th>
<th style="text-align:center;">
PFC..48
</th>
<th style="text-align:center;">
PFC..49
</th>
<th style="text-align:center;">
PFC..50
</th>
<th style="text-align:center;">
PFC..51
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
6943.4
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
7294.9
</td>
<td style="text-align:center;">
7294.9
</td>
<td style="text-align:center;">
7294.9
</td>
<td style="text-align:center;">
7382.8
</td>
<td style="text-align:center;">
7470.7
</td>
<td style="text-align:center;">
7646.5
</td>
<td style="text-align:center;">
5185.5
</td>
<td style="text-align:center;">
5273.4
</td>
<td style="text-align:center;">
5361.3
</td>
<td style="text-align:center;">
5449.2
</td>
<td style="text-align:center;">
5449.2
</td>
<td style="text-align:center;">
5537.1
</td>
<td style="text-align:center;">
5537.1
</td>
<td style="text-align:center;">
5712.9
</td>
<td style="text-align:center;">
6416.0
</td>
<td style="text-align:center;">
6591.8
</td>
<td style="text-align:center;">
6591.8
</td>
<td style="text-align:center;">
5976.6
</td>
<td style="text-align:center;">
6503.9
</td>
<td style="text-align:center;">
5712.9
</td>
<td style="text-align:center;">
6416.0
</td>
<td style="text-align:center;">
6240.2
</td>
<td style="text-align:center;">
5976.6
</td>
<td style="text-align:center;">
6328.1
</td>
<td style="text-align:center;">
5185.5
</td>
<td style="text-align:center;">
5009.8
</td>
<td style="text-align:center;">
4658.2
</td>
<td style="text-align:center;">
4306.6
</td>
<td style="text-align:center;">
3955.1
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
6855.5
</td>
<td style="text-align:center;">
6767.6
</td>
<td style="text-align:center;">
6767.6
</td>
<td style="text-align:center;">
6855.5
</td>
<td style="text-align:center;">
6943.4
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7031.2
</td>
<td style="text-align:center;">
6943.4
</td>
<td style="text-align:center;">
6591.8
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
7119.1
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
6767.6
</td>
<td style="text-align:center;">
6943.4
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7294.9
</td>
<td style="text-align:center;">
7382.8
</td>
<td style="text-align:center;">
7470.7
</td>
<td style="text-align:center;">
7558.6
</td>
<td style="text-align:center;">
7558.6
</td>
<td style="text-align:center;">
7646.5
</td>
<td style="text-align:center;">
5185.5
</td>
<td style="text-align:center;">
5361.3
</td>
<td style="text-align:center;">
5537.1
</td>
<td style="text-align:center;">
8261.7
</td>
<td style="text-align:center;">
8261.7
</td>
<td style="text-align:center;">
8349.6
</td>
<td style="text-align:center;">
5800.8
</td>
<td style="text-align:center;">
6152.3
</td>
<td style="text-align:center;">
6591.8
</td>
<td style="text-align:center;">
6679.7
</td>
<td style="text-align:center;">
5888.7
</td>
<td style="text-align:center;">
6416.0
</td>
<td style="text-align:center;">
5625.0
</td>
<td style="text-align:center;">
6152.3
</td>
<td style="text-align:center;">
5976.6
</td>
<td style="text-align:center;">
5976.6
</td>
<td style="text-align:center;">
5976.6
</td>
<td style="text-align:center;">
5273.4
</td>
<td style="text-align:center;">
5273.4
</td>
<td style="text-align:center;">
4570.3
</td>
<td style="text-align:center;">
4306.6
</td>
<td style="text-align:center;">
3867.2
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
6855.5
</td>
<td style="text-align:center;">
6855.5
</td>
<td style="text-align:center;">
6855.5
</td>
<td style="text-align:center;">
6943.4
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
6943.4
</td>
<td style="text-align:center;">
4746.1
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
4834.0
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
4921.9
</td>
<td style="text-align:center;">
4921.9
</td>
<td style="text-align:center;">
7558.6
</td>
<td style="text-align:center;">
7646.5
</td>
<td style="text-align:center;">
7734.4
</td>
<td style="text-align:center;">
7998.0
</td>
<td style="text-align:center;">
8085.9
</td>
<td style="text-align:center;">
5449.2
</td>
<td style="text-align:center;">
8085.9
</td>
<td style="text-align:center;">
8349.6
</td>
<td style="text-align:center;">
7998.0
</td>
<td style="text-align:center;">
8701.2
</td>
<td style="text-align:center;">
6503.9
</td>
<td style="text-align:center;">
6591.8
</td>
<td style="text-align:center;">
5800.8
</td>
<td style="text-align:center;">
6503.9
</td>
<td style="text-align:center;">
6503.9
</td>
<td style="text-align:center;">
6328.1
</td>
<td style="text-align:center;">
6416.0
</td>
<td style="text-align:center;">
5449.2
</td>
<td style="text-align:center;">
6152.3
</td>
<td style="text-align:center;">
5361.3
</td>
<td style="text-align:center;">
5273.4
</td>
<td style="text-align:center;">
4921.9
</td>
<td style="text-align:center;">
4482.4
</td>
<td style="text-align:center;">
4130.9
</td>
<td style="text-align:center;">
3779.3
</td>
<td style="text-align:center;">
6943.4
</td>
<td style="text-align:center;">
6767.6
</td>
<td style="text-align:center;">
6767.6
</td>
<td style="text-align:center;">
6767.6
</td>
<td style="text-align:center;">
6943.4
</td>
<td style="text-align:center;">
7031.2
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
7031.2
</td>
<td style="text-align:center;">
7294.9
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7031.2
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7031.2
</td>
<td style="text-align:center;">
7031.2
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7119.1
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long2.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
5888.7
</td>
<td style="text-align:center;">
6503.9
</td>
<td style="text-align:center;">
4570.3
</td>
<td style="text-align:center;">
4834.0
</td>
<td style="text-align:center;">
5185.5
</td>
<td style="text-align:center;">
5537.1
</td>
<td style="text-align:center;">
5537.1
</td>
<td style="text-align:center;">
5800.8
</td>
<td style="text-align:center;">
6503.9
</td>
<td style="text-align:center;">
3779.3
</td>
<td style="text-align:center;">
6240.2
</td>
<td style="text-align:center;">
6328.1
</td>
<td style="text-align:center;">
6416.0
</td>
<td style="text-align:center;">
6591.8
</td>
<td style="text-align:center;">
5273.4
</td>
<td style="text-align:center;">
5712.9
</td>
<td style="text-align:center;">
4921.9
</td>
<td style="text-align:center;">
7382.8
</td>
<td style="text-align:center;">
6064.5
</td>
<td style="text-align:center;">
6767.6
</td>
<td style="text-align:center;">
7646.5
</td>
<td style="text-align:center;">
5800.8
</td>
<td style="text-align:center;">
7470.7
</td>
<td style="text-align:center;">
7294.9
</td>
<td style="text-align:center;">
7382.8
</td>
<td style="text-align:center;">
5537.1
</td>
<td style="text-align:center;">
6152.3
</td>
<td style="text-align:center;">
6416.0
</td>
<td style="text-align:center;">
5888.7
</td>
<td style="text-align:center;">
7558.6
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7294.9
</td>
<td style="text-align:center;">
6591.8
</td>
<td style="text-align:center;">
7822.3
</td>
<td style="text-align:center;">
7822.3
</td>
<td style="text-align:center;">
5976.6
</td>
<td style="text-align:center;">
6064.5
</td>
<td style="text-align:center;">
6152.3
</td>
<td style="text-align:center;">
6152.3
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long2.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
4570.3
</td>
<td style="text-align:center;">
4746.1
</td>
<td style="text-align:center;">
4921.9
</td>
<td style="text-align:center;">
5097.7
</td>
<td style="text-align:center;">
5097.7
</td>
<td style="text-align:center;">
5185.5
</td>
<td style="text-align:center;">
5800.8
</td>
<td style="text-align:center;">
5712.9
</td>
<td style="text-align:center;">
5888.7
</td>
<td style="text-align:center;">
5976.6
</td>
<td style="text-align:center;">
6064.5
</td>
<td style="text-align:center;">
6064.5
</td>
<td style="text-align:center;">
4570.3
</td>
<td style="text-align:center;">
6855.5
</td>
<td style="text-align:center;">
6855.5
</td>
<td style="text-align:center;">
5976.6
</td>
<td style="text-align:center;">
6855.5
</td>
<td style="text-align:center;">
6679.7
</td>
<td style="text-align:center;">
6328.1
</td>
<td style="text-align:center;">
7646.5
</td>
<td style="text-align:center;">
5712.9
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
6679.7
</td>
<td style="text-align:center;">
6591.8
</td>
<td style="text-align:center;">
6240.2
</td>
<td style="text-align:center;">
6855.5
</td>
<td style="text-align:center;">
6943.4
</td>
<td style="text-align:center;">
6416.0
</td>
<td style="text-align:center;">
6943.4
</td>
<td style="text-align:center;">
6591.8
</td>
<td style="text-align:center;">
6503.9
</td>
<td style="text-align:center;">
6416.0
</td>
<td style="text-align:center;">
7558.6
</td>
<td style="text-align:center;">
6591.8
</td>
<td style="text-align:center;">
5712.9
</td>
<td style="text-align:center;">
6591.8
</td>
<td style="text-align:center;">
5537.1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long3.wav
</td>
<td style="text-align:center;">
6
</td>
<td style="text-align:center;">
4218.8
</td>
<td style="text-align:center;">
6240.2
</td>
<td style="text-align:center;">
6591.8
</td>
<td style="text-align:center;">
6679.7
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
5009.8
</td>
<td style="text-align:center;">
5800.8
</td>
<td style="text-align:center;">
6240.2
</td>
<td style="text-align:center;">
6767.6
</td>
<td style="text-align:center;">
6416.0
</td>
<td style="text-align:center;">
6328.1
</td>
<td style="text-align:center;">
6328.1
</td>
<td style="text-align:center;">
6503.9
</td>
<td style="text-align:center;">
6679.7
</td>
<td style="text-align:center;">
6591.8
</td>
<td style="text-align:center;">
5537.1
</td>
<td style="text-align:center;">
6679.7
</td>
<td style="text-align:center;">
6679.7
</td>
<td style="text-align:center;">
6591.8
</td>
<td style="text-align:center;">
6943.4
</td>
<td style="text-align:center;">
5976.6
</td>
<td style="text-align:center;">
6591.8
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
6767.6
</td>
<td style="text-align:center;">
7470.7
</td>
<td style="text-align:center;">
6416.0
</td>
<td style="text-align:center;">
7470.7
</td>
<td style="text-align:center;">
6591.8
</td>
<td style="text-align:center;">
7998.0
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
7910.2
</td>
<td style="text-align:center;">
7031.2
</td>
<td style="text-align:center;">
6943.4
</td>
<td style="text-align:center;">
7470.7
</td>
<td style="text-align:center;">
6943.4
</td>
<td style="text-align:center;">
7734.4
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
7822.3
</td>
<td style="text-align:center;">
6416.0
</td>
<td style="text-align:center;">
6855.5
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
</tbody>
</table>
</div>
<p> </p>
<p>Note that these sequences are not all of equal length (one has NAs at the end). <code>extract_ts</code> can also interpolate values so all time series have the same length:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="co"># Peak freq contour equal length</span></a>
<a class="sourceLine" id="cb13-2" data-line-number="2">fcts &lt;-<span class="st"> </span><span class="kw"><a href="../reference/extract_ts.html">extract_ts</a></span>(<span class="dt">X =</span> rvn.dat, <span class="dt">ts.column =</span> <span class="st">"Peak Freq Contour (Hz)"</span>,  <span class="dt">equal.length =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb13-3" data-line-number="3"></a>
<a class="sourceLine" id="cb13-4" data-line-number="4"><span class="co">#look at the last rows wit no NAs</span></a>
<a class="sourceLine" id="cb13-5" data-line-number="5"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(fcts)</a></code></pre></div>
<div style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:808px; ">
<table class="table table table-striped table-hover table-condensed table-responsive">
<thead><tr>
<th style="text-align:center;">
sound.files
</th>
<th style="text-align:center;">
selec
</th>
<th style="text-align:center;">
PFC..1
</th>
<th style="text-align:center;">
PFC..2
</th>
<th style="text-align:center;">
PFC..3
</th>
<th style="text-align:center;">
PFC..4
</th>
<th style="text-align:center;">
PFC..5
</th>
<th style="text-align:center;">
PFC..6
</th>
<th style="text-align:center;">
PFC..7
</th>
<th style="text-align:center;">
PFC..8
</th>
<th style="text-align:center;">
PFC..9
</th>
<th style="text-align:center;">
PFC..10
</th>
<th style="text-align:center;">
PFC..11
</th>
<th style="text-align:center;">
PFC..12
</th>
<th style="text-align:center;">
PFC..13
</th>
<th style="text-align:center;">
PFC..14
</th>
<th style="text-align:center;">
PFC..15
</th>
<th style="text-align:center;">
PFC..16
</th>
<th style="text-align:center;">
PFC..17
</th>
<th style="text-align:center;">
PFC..18
</th>
<th style="text-align:center;">
PFC..19
</th>
<th style="text-align:center;">
PFC..20
</th>
<th style="text-align:center;">
PFC..21
</th>
<th style="text-align:center;">
PFC..22
</th>
<th style="text-align:center;">
PFC..23
</th>
<th style="text-align:center;">
PFC..24
</th>
<th style="text-align:center;">
PFC..25
</th>
<th style="text-align:center;">
PFC..26
</th>
<th style="text-align:center;">
PFC..27
</th>
<th style="text-align:center;">
PFC..28
</th>
<th style="text-align:center;">
PFC..29
</th>
<th style="text-align:center;">
PFC..30
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
6943.4
</td>
<td style="text-align:center;">
7246.40
</td>
<td style="text-align:center;">
7294.90
</td>
<td style="text-align:center;">
7397.96
</td>
<td style="text-align:center;">
7628.31
</td>
<td style="text-align:center;">
5240.06
</td>
<td style="text-align:center;">
5391.61
</td>
<td style="text-align:center;">
5455.26
</td>
<td style="text-align:center;">
5537.10
</td>
<td style="text-align:center;">
6076.57
</td>
<td style="text-align:center;">
6591.80
</td>
<td style="text-align:center;">
5997.81
</td>
<td style="text-align:center;">
5958.38
</td>
<td style="text-align:center;">
6343.26
</td>
<td style="text-align:center;">
6025.08
</td>
<td style="text-align:center;">
5343.10
</td>
<td style="text-align:center;">
4803.69
</td>
<td style="text-align:center;">
4197.51
</td>
<td style="text-align:center;">
7110.01
</td>
<td style="text-align:center;">
6788.82
</td>
<td style="text-align:center;">
6810.03
</td>
<td style="text-align:center;">
6979.75
</td>
<td style="text-align:center;">
7200.94
</td>
<td style="text-align:center;">
7207.00
</td>
<td style="text-align:center;">
6997.90
</td>
<td style="text-align:center;">
6646.35
</td>
<td style="text-align:center;">
7119.10
</td>
<td style="text-align:center;">
7158.50
</td>
<td style="text-align:center;">
7182.75
</td>
<td style="text-align:center;">
7119.1
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
6767.6
</td>
<td style="text-align:center;">
7107.01
</td>
<td style="text-align:center;">
7228.22
</td>
<td style="text-align:center;">
7370.68
</td>
<td style="text-align:center;">
7513.13
</td>
<td style="text-align:center;">
7567.69
</td>
<td style="text-align:center;">
5864.40
</td>
<td style="text-align:center;">
5421.92
</td>
<td style="text-align:center;">
8167.75
</td>
<td style="text-align:center;">
8313.23
</td>
<td style="text-align:center;">
5873.52
</td>
<td style="text-align:center;">
6516.02
</td>
<td style="text-align:center;">
6325.11
</td>
<td style="text-align:center;">
6361.45
</td>
<td style="text-align:center;">
5988.66
</td>
<td style="text-align:center;">
5976.60
</td>
<td style="text-align:center;">
5976.60
</td>
<td style="text-align:center;">
5273.40
</td>
<td style="text-align:center;">
4524.83
</td>
<td style="text-align:center;">
3958.11
</td>
<td style="text-align:center;">
7010.02
</td>
<td style="text-align:center;">
6855.50
</td>
<td style="text-align:center;">
6913.09
</td>
<td style="text-align:center;">
7143.35
</td>
<td style="text-align:center;">
7207.00
</td>
<td style="text-align:center;">
7207.00
</td>
<td style="text-align:center;">
7194.88
</td>
<td style="text-align:center;">
7119.10
</td>
<td style="text-align:center;">
7173.66
</td>
<td style="text-align:center;">
7207.0
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
6943.4
</td>
<td style="text-align:center;">
6464.48
</td>
<td style="text-align:center;">
5897.76
</td>
<td style="text-align:center;">
4921.90
</td>
<td style="text-align:center;">
7285.84
</td>
<td style="text-align:center;">
7701.06
</td>
<td style="text-align:center;">
8028.31
</td>
<td style="text-align:center;">
5631.04
</td>
<td style="text-align:center;">
8295.04
</td>
<td style="text-align:center;">
8361.72
</td>
<td style="text-align:center;">
6525.12
</td>
<td style="text-align:center;">
5828.08
</td>
<td style="text-align:center;">
6503.90
</td>
<td style="text-align:center;">
6364.47
</td>
<td style="text-align:center;">
5546.18
</td>
<td style="text-align:center;">
5470.40
</td>
<td style="text-align:center;">
5067.35
</td>
<td style="text-align:center;">
4373.31
</td>
<td style="text-align:center;">
3888.41
</td>
<td style="text-align:center;">
6810.03
</td>
<td style="text-align:center;">
6767.60
</td>
<td style="text-align:center;">
6961.57
</td>
<td style="text-align:center;">
7113.04
</td>
<td style="text-align:center;">
7203.97
</td>
<td style="text-align:center;">
7207.00
</td>
<td style="text-align:center;">
7049.39
</td>
<td style="text-align:center;">
7061.51
</td>
<td style="text-align:center;">
7079.70
</td>
<td style="text-align:center;">
7143.35
</td>
<td style="text-align:center;">
7119.1
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long2.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
5888.7
</td>
<td style="text-align:center;">
5903.82
</td>
<td style="text-align:center;">
4733.98
</td>
<td style="text-align:center;">
5161.26
</td>
<td style="text-align:center;">
5537.10
</td>
<td style="text-align:center;">
5682.59
</td>
<td style="text-align:center;">
6406.92
</td>
<td style="text-align:center;">
4203.59
</td>
<td style="text-align:center;">
6282.63
</td>
<td style="text-align:center;">
6397.81
</td>
<td style="text-align:center;">
6455.41
</td>
<td style="text-align:center;">
5455.26
</td>
<td style="text-align:center;">
5140.11
</td>
<td style="text-align:center;">
7337.34
</td>
<td style="text-align:center;">
6306.95
</td>
<td style="text-align:center;">
7343.43
</td>
<td style="text-align:center;">
5864.44
</td>
<td style="text-align:center;">
7422.20
</td>
<td style="text-align:center;">
7346.43
</td>
<td style="text-align:center;">
5728.03
</td>
<td style="text-align:center;">
6206.86
</td>
<td style="text-align:center;">
6143.26
</td>
<td style="text-align:center;">
7270.69
</td>
<td style="text-align:center;">
7219.12
</td>
<td style="text-align:center;">
6979.72
</td>
<td style="text-align:center;">
7525.28
</td>
<td style="text-align:center;">
7695.01
</td>
<td style="text-align:center;">
6009.94
</td>
<td style="text-align:center;">
6125.05
</td>
<td style="text-align:center;">
6152.3
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long2.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
4570.3
</td>
<td style="text-align:center;">
4788.53
</td>
<td style="text-align:center;">
5006.77
</td>
<td style="text-align:center;">
5097.70
</td>
<td style="text-align:center;">
5182.47
</td>
<td style="text-align:center;">
5782.61
</td>
<td style="text-align:center;">
5791.71
</td>
<td style="text-align:center;">
5949.32
</td>
<td style="text-align:center;">
6058.44
</td>
<td style="text-align:center;">
5806.88
</td>
<td style="text-align:center;">
5515.90
</td>
<td style="text-align:center;">
6855.50
</td>
<td style="text-align:center;">
6067.52
</td>
<td style="text-align:center;">
6831.25
</td>
<td style="text-align:center;">
6546.33
</td>
<td style="text-align:center;">
7146.42
</td>
<td style="text-align:center;">
5979.60
</td>
<td style="text-align:center;">
7152.45
</td>
<td style="text-align:center;">
6649.39
</td>
<td style="text-align:center;">
6385.69
</td>
<td style="text-align:center;">
6749.41
</td>
<td style="text-align:center;">
6907.03
</td>
<td style="text-align:center;">
6579.68
</td>
<td style="text-align:center;">
6749.41
</td>
<td style="text-align:center;">
6522.09
</td>
<td style="text-align:center;">
6455.40
</td>
<td style="text-align:center;">
7291.90
</td>
<td style="text-align:center;">
6137.20
</td>
<td style="text-align:center;">
6379.65
</td>
<td style="text-align:center;">
5537.1
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long3.wav
</td>
<td style="text-align:center;">
6
</td>
<td style="text-align:center;">
4218.8
</td>
<td style="text-align:center;">
6361.44
</td>
<td style="text-align:center;">
6652.42
</td>
<td style="text-align:center;">
7046.37
</td>
<td style="text-align:center;">
5309.83
</td>
<td style="text-align:center;">
6118.99
</td>
<td style="text-align:center;">
6743.35
</td>
<td style="text-align:center;">
6379.63
</td>
<td style="text-align:center;">
6328.10
</td>
<td style="text-align:center;">
6522.09
</td>
<td style="text-align:center;">
6640.30
</td>
<td style="text-align:center;">
5755.31
</td>
<td style="text-align:center;">
6679.70
</td>
<td style="text-align:center;">
6637.27
</td>
<td style="text-align:center;">
6882.78
</td>
<td style="text-align:center;">
6082.67
</td>
<td style="text-align:center;">
6864.54
</td>
<td style="text-align:center;">
6816.08
</td>
<td style="text-align:center;">
7252.49
</td>
<td style="text-align:center;">
6997.90
</td>
<td style="text-align:center;">
6682.72
</td>
<td style="text-align:center;">
7785.85
</td>
<td style="text-align:center;">
7582.85
</td>
<td style="text-align:center;">
7091.82
</td>
<td style="text-align:center;">
7088.86
</td>
<td style="text-align:center;">
7143.41
</td>
<td style="text-align:center;">
7707.12
</td>
<td style="text-align:center;">
7337.33
</td>
<td style="text-align:center;">
6900.93
</td>
<td style="text-align:center;">
6855.5
</td>
</tr>
</tbody>
</table>
</div>
<p> </p>
<p>And the length of the series can also be specified:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="co"># Peak freq contour equal length 10 measurements</span></a>
<a class="sourceLine" id="cb14-2" data-line-number="2">fcts &lt;-<span class="st"> </span><span class="kw"><a href="../reference/extract_ts.html">extract_ts</a></span>(<span class="dt">X =</span> rvn.dat, <span class="dt">ts.column =</span> <span class="st">"Peak Freq Contour (Hz)"</span>,</a>
<a class="sourceLine" id="cb14-3" data-line-number="3"><span class="dt">equal.length =</span> T, <span class="dt">length.out =</span> <span class="dv">10</span>)  </a>
<a class="sourceLine" id="cb14-4" data-line-number="4"></a>
<a class="sourceLine" id="cb14-5" data-line-number="5"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(fcts)</a></code></pre></div>
<table class="table table table-striped table-hover table-condensed table-responsive">
<thead><tr>
<th style="text-align:center;">
sound.files
</th>
<th style="text-align:center;">
selec
</th>
<th style="text-align:center;">
PFC..1
</th>
<th style="text-align:center;">
PFC..2
</th>
<th style="text-align:center;">
PFC..3
</th>
<th style="text-align:center;">
PFC..4
</th>
<th style="text-align:center;">
PFC..5
</th>
<th style="text-align:center;">
PFC..6
</th>
<th style="text-align:center;">
PFC..7
</th>
<th style="text-align:center;">
PFC..8
</th>
<th style="text-align:center;">
PFC..9
</th>
<th style="text-align:center;">
PFC..10
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
6943.4
</td>
<td style="text-align:center;">
7431.63
</td>
<td style="text-align:center;">
5449.20
</td>
<td style="text-align:center;">
6533.20
</td>
<td style="text-align:center;">
6376.93
</td>
<td style="text-align:center;">
4736.33
</td>
<td style="text-align:center;">
6767.60
</td>
<td style="text-align:center;">
7207.00
</td>
<td style="text-align:center;">
7119.10
</td>
<td style="text-align:center;">
7119.1
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
6767.6
</td>
<td style="text-align:center;">
7402.33
</td>
<td style="text-align:center;">
5263.63
</td>
<td style="text-align:center;">
6650.40
</td>
<td style="text-align:center;">
6357.41
</td>
<td style="text-align:center;">
5898.47
</td>
<td style="text-align:center;">
4951.17
</td>
<td style="text-align:center;">
7041.01
</td>
<td style="text-align:center;">
7207.00
</td>
<td style="text-align:center;">
7207.0
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
6943.4
</td>
<td style="text-align:center;">
4921.90
</td>
<td style="text-align:center;">
7792.93
</td>
<td style="text-align:center;">
7236.33
</td>
<td style="text-align:center;">
6347.63
</td>
<td style="text-align:center;">
5000.01
</td>
<td style="text-align:center;">
6767.60
</td>
<td style="text-align:center;">
7040.97
</td>
<td style="text-align:center;">
7128.87
</td>
<td style="text-align:center;">
7119.1
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long2.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
5888.7
</td>
<td style="text-align:center;">
5263.63
</td>
<td style="text-align:center;">
5292.97
</td>
<td style="text-align:center;">
6533.20
</td>
<td style="text-align:center;">
7109.37
</td>
<td style="text-align:center;">
5986.34
</td>
<td style="text-align:center;">
5742.17
</td>
<td style="text-align:center;">
7363.27
</td>
<td style="text-align:center;">
7822.30
</td>
<td style="text-align:center;">
6152.3
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long2.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
4570.3
</td>
<td style="text-align:center;">
5097.70
</td>
<td style="text-align:center;">
5888.70
</td>
<td style="text-align:center;">
4570.30
</td>
<td style="text-align:center;">
6855.50
</td>
<td style="text-align:center;">
5712.90
</td>
<td style="text-align:center;">
6240.20
</td>
<td style="text-align:center;">
6943.40
</td>
<td style="text-align:center;">
7558.60
</td>
<td style="text-align:center;">
5537.1
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long3.wav
</td>
<td style="text-align:center;">
6
</td>
<td style="text-align:center;">
4218.8
</td>
<td style="text-align:center;">
6416.00
</td>
<td style="text-align:center;">
6533.20
</td>
<td style="text-align:center;">
6679.70
</td>
<td style="text-align:center;">
6650.40
</td>
<td style="text-align:center;">
6943.33
</td>
<td style="text-align:center;">
7470.70
</td>
<td style="text-align:center;">
7617.20
</td>
<td style="text-align:center;">
7470.73
</td>
<td style="text-align:center;">
6855.5
</td>
</tr>
</tbody>
</table>
<p> </p>
<p>The time series data frame can be directly input into the <code>dfDTW</code> <a href="https://cran.r-project.org/package=warbleR">warbleR</a> function to calculate <a href="https://en.wikipedia.org/wiki/Dynamic_time_warping">Dynamic Time Warping</a> distances:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/warbleR/topics/dfDTW">dfDTW</a></span>(<span class="dt">ts.df =</span> fcts)</a></code></pre></div>
<p> </p>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:500px; overflow-x: scroll; width:808px; ">
<table class="table table table-striped table-hover table-condensed table-responsive">
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
Phae.long1.wav-1
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
Phae.long1.wav-2
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
Phae.long1.wav-3
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
Phae.long2.wav-4
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
Phae.long2.wav-5
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
Phae.long3.wav-6
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
Phae.long3.wav-7
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
Phae.long3.wav-8
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
Phae.long4.wav-9
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
Phae.long4.wav-10
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
Phae.long4.wav-11
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Phae.long1.wav-1
</td>
<td style="text-align:center;">
0.00
</td>
<td style="text-align:center;">
2509.73
</td>
<td style="text-align:center;">
5702.99
</td>
<td style="text-align:center;">
9541.19
</td>
<td style="text-align:center;">
12411.93
</td>
<td style="text-align:center;">
9648.40
</td>
<td style="text-align:center;">
7207.00
</td>
<td style="text-align:center;">
7343.82
</td>
<td style="text-align:center;">
13740.28
</td>
<td style="text-align:center;">
11455.40
</td>
<td style="text-align:center;">
14970.64
</td>
</tr>
<tr>
<td style="text-align:left;">
Phae.long1.wav-2
</td>
<td style="text-align:center;">
2509.73
</td>
<td style="text-align:center;">
0.00
</td>
<td style="text-align:center;">
5624.78
</td>
<td style="text-align:center;">
7334.11
</td>
<td style="text-align:center;">
12333.71
</td>
<td style="text-align:center;">
10058.78
</td>
<td style="text-align:center;">
7255.63
</td>
<td style="text-align:center;">
7734.49
</td>
<td style="text-align:center;">
14257.91
</td>
<td style="text-align:center;">
10908.22
</td>
<td style="text-align:center;">
15107.31
</td>
</tr>
<tr>
<td style="text-align:left;">
Phae.long1.wav-3
</td>
<td style="text-align:center;">
5702.99
</td>
<td style="text-align:center;">
5624.78
</td>
<td style="text-align:center;">
0.00
</td>
<td style="text-align:center;">
10615.03
</td>
<td style="text-align:center;">
11620.86
</td>
<td style="text-align:center;">
11044.99
</td>
<td style="text-align:center;">
8046.64
</td>
<td style="text-align:center;">
7675.46
</td>
<td style="text-align:center;">
15077.77
</td>
<td style="text-align:center;">
13476.38
</td>
<td style="text-align:center;">
14696.92
</td>
</tr>
<tr>
<td style="text-align:left;">
Phae.long2.wav-4
</td>
<td style="text-align:center;">
9541.19
</td>
<td style="text-align:center;">
7334.11
</td>
<td style="text-align:center;">
10615.03
</td>
<td style="text-align:center;">
0.00
</td>
<td style="text-align:center;">
7665.76
</td>
<td style="text-align:center;">
9111.46
</td>
<td style="text-align:center;">
7587.78
</td>
<td style="text-align:center;">
7109.27
</td>
<td style="text-align:center;">
11318.26
</td>
<td style="text-align:center;">
10683.49
</td>
<td style="text-align:center;">
11572.13
</td>
</tr>
<tr>
<td style="text-align:left;">
Phae.long2.wav-5
</td>
<td style="text-align:center;">
12411.93
</td>
<td style="text-align:center;">
12333.71
</td>
<td style="text-align:center;">
11620.86
</td>
<td style="text-align:center;">
7665.76
</td>
<td style="text-align:center;">
0.00
</td>
<td style="text-align:center;">
8466.93
</td>
<td style="text-align:center;">
9160.36
</td>
<td style="text-align:center;">
8339.72
</td>
<td style="text-align:center;">
10839.78
</td>
<td style="text-align:center;">
13535.00
</td>
<td style="text-align:center;">
9902.21
</td>
</tr>
<tr>
<td style="text-align:left;">
Phae.long3.wav-6
</td>
<td style="text-align:center;">
9648.40
</td>
<td style="text-align:center;">
10058.78
</td>
<td style="text-align:center;">
11044.99
</td>
<td style="text-align:center;">
9111.46
</td>
<td style="text-align:center;">
8466.93
</td>
<td style="text-align:center;">
0.00
</td>
<td style="text-align:center;">
6464.63
</td>
<td style="text-align:center;">
6425.53
</td>
<td style="text-align:center;">
16122.97
</td>
<td style="text-align:center;">
15234.57
</td>
<td style="text-align:center;">
14413.98
</td>
</tr>
<tr>
<td style="text-align:left;">
Phae.long3.wav-7
</td>
<td style="text-align:center;">
7207.00
</td>
<td style="text-align:center;">
7255.63
</td>
<td style="text-align:center;">
8046.64
</td>
<td style="text-align:center;">
7587.78
</td>
<td style="text-align:center;">
9160.36
</td>
<td style="text-align:center;">
6464.63
</td>
<td style="text-align:center;">
0.00
</td>
<td style="text-align:center;">
4882.82
</td>
<td style="text-align:center;">
13144.40
</td>
<td style="text-align:center;">
11689.30
</td>
<td style="text-align:center;">
13095.31
</td>
</tr>
<tr>
<td style="text-align:left;">
Phae.long3.wav-8
</td>
<td style="text-align:center;">
7343.82
</td>
<td style="text-align:center;">
7734.49
</td>
<td style="text-align:center;">
7675.46
</td>
<td style="text-align:center;">
7109.27
</td>
<td style="text-align:center;">
8339.72
</td>
<td style="text-align:center;">
6425.53
</td>
<td style="text-align:center;">
4882.82
</td>
<td style="text-align:center;">
0.00
</td>
<td style="text-align:center;">
13711.03
</td>
<td style="text-align:center;">
13144.48
</td>
<td style="text-align:center;">
13515.51
</td>
</tr>
<tr>
<td style="text-align:left;">
Phae.long4.wav-9
</td>
<td style="text-align:center;">
13740.28
</td>
<td style="text-align:center;">
14257.91
</td>
<td style="text-align:center;">
15077.77
</td>
<td style="text-align:center;">
11318.26
</td>
<td style="text-align:center;">
10839.78
</td>
<td style="text-align:center;">
16122.97
</td>
<td style="text-align:center;">
13144.40
</td>
<td style="text-align:center;">
13711.03
</td>
<td style="text-align:center;">
0.00
</td>
<td style="text-align:center;">
10517.49
</td>
<td style="text-align:center;">
9424.16
</td>
</tr>
<tr>
<td style="text-align:left;">
Phae.long4.wav-10
</td>
<td style="text-align:center;">
11455.40
</td>
<td style="text-align:center;">
10908.22
</td>
<td style="text-align:center;">
13476.38
</td>
<td style="text-align:center;">
10683.49
</td>
<td style="text-align:center;">
13535.00
</td>
<td style="text-align:center;">
15234.57
</td>
<td style="text-align:center;">
11689.30
</td>
<td style="text-align:center;">
13144.48
</td>
<td style="text-align:center;">
10517.49
</td>
<td style="text-align:center;">
0.00
</td>
<td style="text-align:center;">
9725.81
</td>
</tr>
<tr>
<td style="text-align:left;">
Phae.long4.wav-11
</td>
<td style="text-align:center;">
14970.64
</td>
<td style="text-align:center;">
15107.31
</td>
<td style="text-align:center;">
14696.92
</td>
<td style="text-align:center;">
11572.13
</td>
<td style="text-align:center;">
9902.21
</td>
<td style="text-align:center;">
14413.98
</td>
<td style="text-align:center;">
13095.31
</td>
<td style="text-align:center;">
13515.51
</td>
<td style="text-align:center;">
9424.16
</td>
<td style="text-align:center;">
9725.81
</td>
<td style="text-align:center;">
0.00
</td>
</tr>
</tbody>
</table>
</div>
<hr>
</div>
<div id="relabel_colms" class="section level3">
<h3 class="hasAnchor">
<a href="#relabel_colms" class="anchor"></a><em>relabel_colms</em>
</h3>
<p>This is a simple function to relabel columns so they match the selection table format used in <a href="https://cran.r-project.org/package=warbleR">warbleR</a>:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="co">#to simplify the example select a subset of the columns </span></a>
<a class="sourceLine" id="cb16-2" data-line-number="2">st1 &lt;-<span class="st"> </span>rvn.dat[ ,<span class="dv">1</span><span class="op">:</span><span class="dv">7</span>]</a>
<a class="sourceLine" id="cb16-3" data-line-number="3"></a>
<a class="sourceLine" id="cb16-4" data-line-number="4"><span class="co">#check original column names</span></a>
<a class="sourceLine" id="cb16-5" data-line-number="5">st1</a></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="co"># Relabel the basic columns required by warbleR</span></a>
<a class="sourceLine" id="cb17-2" data-line-number="2"><span class="kw"><a href="../reference/relabel_colms.html">relabel_colms</a></span>(st1)</a></code></pre></div>
<p> </p>
<p>Additional columns can also be relabeled:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="co"># 2 additional column </span></a>
<a class="sourceLine" id="cb18-2" data-line-number="2"><span class="kw"><a href="../reference/relabel_colms.html">relabel_colms</a></span>(st1, <span class="dt">extra.cols.name =</span> <span class="st">"View"</span>,</a>
<a class="sourceLine" id="cb18-3" data-line-number="3">              <span class="dt">extra.cols.new.name =</span> <span class="st">"Raven view"</span>)</a></code></pre></div>
<table class="table table table-striped table-hover table-condensed table-responsive">
<thead><tr>
<th style="text-align:center;">
selec
</th>
<th style="text-align:center;">
Raven view
</th>
<th style="text-align:center;">
Channel
</th>
<th style="text-align:center;">
start
</th>
<th style="text-align:center;">
end
</th>
<th style="text-align:center;">
bottom.freq
</th>
<th style="text-align:center;">
top.freq
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
Spectrogram 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1.169
</td>
<td style="text-align:center;">
1.342033
</td>
<td style="text-align:center;">
2220.1
</td>
<td style="text-align:center;">
8604.4
</td>
</tr>
<tr>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
Spectrogram 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
2.158
</td>
<td style="text-align:center;">
2.321048
</td>
<td style="text-align:center;">
2169.4
</td>
<td style="text-align:center;">
8807.1
</td>
</tr>
<tr>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
Spectrogram 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.343
</td>
<td style="text-align:center;">
0.517919
</td>
<td style="text-align:center;">
2218.3
</td>
<td style="text-align:center;">
8756.6
</td>
</tr>
<tr>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
Spectrogram 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.160
</td>
<td style="text-align:center;">
0.292571
</td>
<td style="text-align:center;">
2316.9
</td>
<td style="text-align:center;">
8822.3
</td>
</tr>
<tr>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
Spectrogram 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1.457
</td>
<td style="text-align:center;">
1.583150
</td>
<td style="text-align:center;">
2284.0
</td>
<td style="text-align:center;">
8888.0
</td>
</tr>
<tr>
<td style="text-align:center;">
6
</td>
<td style="text-align:center;">
Spectrogram 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.627
</td>
<td style="text-align:center;">
0.758220
</td>
<td style="text-align:center;">
3006.8
</td>
<td style="text-align:center;">
8822.3
</td>
</tr>
<tr>
<td style="text-align:center;">
7
</td>
<td style="text-align:center;">
Spectrogram 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1.974
</td>
<td style="text-align:center;">
2.104179
</td>
<td style="text-align:center;">
2776.8
</td>
<td style="text-align:center;">
8888.0
</td>
</tr>
<tr>
<td style="text-align:center;">
8
</td>
<td style="text-align:center;">
Spectrogram 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.123
</td>
<td style="text-align:center;">
0.254217
</td>
<td style="text-align:center;">
2316.9
</td>
<td style="text-align:center;">
9315.2
</td>
</tr>
<tr>
<td style="text-align:center;">
9
</td>
<td style="text-align:center;">
Spectrogram 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1.517
</td>
<td style="text-align:center;">
1.662425
</td>
<td style="text-align:center;">
2514.0
</td>
<td style="text-align:center;">
9216.6
</td>
</tr>
<tr>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
Spectrogram 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
2.933
</td>
<td style="text-align:center;">
3.077186
</td>
<td style="text-align:center;">
2579.7
</td>
<td style="text-align:center;">
10235.1
</td>
</tr>
<tr>
<td style="text-align:center;">
11
</td>
<td style="text-align:center;">
Spectrogram 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.145
</td>
<td style="text-align:center;">
0.290099
</td>
<td style="text-align:center;">
2579.7
</td>
<td style="text-align:center;">
9742.3
</td>
</tr>
</tbody>
</table>
<p> </p>
<hr>
</div>
<div id="imp_corr_mat" class="section level3">
<h3 class="hasAnchor">
<a href="#imp_corr_mat" class="anchor"></a><em>imp_corr_mat</em>
</h3>
<p>The function imports the output of a batch correlation routine in <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a>. Both the correlation and lag matrices contained in the output ‘.txt’ file are read and both waveform and spectrogram (cross-correlation) correlations can be imported.</p>
<p>This example shows how to input the sound files into <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a> and how to bring the results back to R. First, the selections need to be cut as single sound files for the <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a> correlator to be able to read it. We can do this using the <code>cut_sels</code> function from <a href="https://cran.r-project.org/package=warbleR">warbleR</a>:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="co">#create new folder to put cuts</span></a>
<a class="sourceLine" id="cb19-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/files2">dir.create</a></span>(<span class="st">"cuts"</span>)</a>
<a class="sourceLine" id="cb19-3" data-line-number="3"></a>
<a class="sourceLine" id="cb19-4" data-line-number="4"><span class="co"># add a rowname column to be able to match cuts and selections</span></a>
<a class="sourceLine" id="cb19-5" data-line-number="5">selec.table<span class="op">$</span>rownames &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/sprintf">sprintf</a></span>(<span class="st">"%02d"</span>,<span class="dv">1</span><span class="op">:</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/nrow">nrow</a></span>(selec.table))</a>
<a class="sourceLine" id="cb19-6" data-line-number="6"></a>
<a class="sourceLine" id="cb19-7" data-line-number="7"><span class="co"># cut files</span></a>
<a class="sourceLine" id="cb19-8" data-line-number="8"><span class="kw"><a href="https://www.rdocumentation.org/packages/warbleR/topics/cut_sels">cut_sels</a></span>(<span class="dt">X =</span> selec.table, <span class="dt">mar =</span> <span class="fl">0.05</span>, <span class="dt">path =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/tempfile">tempdir</a></span>(), <span class="dt">dest.path =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/file.path">file.path</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/tempfile">tempdir</a></span>(), <span class="st">"cuts"</span>), <span class="dt">labels =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"rownames"</span>, <span class="st">"sound.files"</span>, <span class="st">"selec"</span>), <span class="dt">pb =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb19-9" data-line-number="9"></a>
<a class="sourceLine" id="cb19-10" data-line-number="10"><span class="co">#list cuts</span></a>
<a class="sourceLine" id="cb19-11" data-line-number="11"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list.files">list.files</a></span>(<span class="dt">path =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/file.path">file.path</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/tempfile">tempdir</a></span>(), <span class="st">"cuts"</span>))</a></code></pre></div>
<p> </p>
<p>Every selection is in its own sound file (labeled as <code><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste("rownames", "sound.files", "selec")</a></code>). Now open <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a> and run the batch correlator on the ‘cuts’ folder as follows:</p>
<p><img src="https://raw.githubusercontent.com/maRce10/Rraven/master/gifs/opt2_short_raven_correlator.gif" alt="gif1">  </p>
<p>And then import the output file into R:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1"><span class="co"># Import output (change the name of the file if you used a different one)</span></a>
<a class="sourceLine" id="cb20-2" data-line-number="2">xcorr.rav &lt;-<span class="st"> </span><span class="kw"><a href="../reference/imp_corr_mat.html">imp_corr_mat</a></span>(<span class="dt">file =</span> <span class="st">"BatchCorrOutput.txt"</span>, <span class="dt">path =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/tempfile">tempdir</a></span>())</a></code></pre></div>
<p> </p>
<p>The function returns a list containing the correlation matrix:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1">xcorr.rav<span class="op">$</span>correlation</a></code></pre></div>
<p> </p>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:500px; overflow-x: scroll; width:808px; ">
<table class="table table table-striped table-hover table-condensed table-responsive">
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
01-Phae.long1-1.wav
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
10-Phae.long4-2.wav
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
11-Phae.long4-3.wav
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
07-Phae.long3-2.wav
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
05-Phae.long2-2.wav
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
09-Phae.long4-1.wav
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
04-Phae.long2-1.wav
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
02-Phae.long1-2.wav
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
06-Phae.long3-1.wav
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
03-Phae.long1-3.wav
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
08-Phae.long3-3.wav
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
01-Phae.long1-1.wav
</td>
<td style="text-align:center;">
1.000
</td>
<td style="text-align:center;">
0.216
</td>
<td style="text-align:center;">
0.184
</td>
<td style="text-align:center;">
0.285
</td>
<td style="text-align:center;">
0.443
</td>
<td style="text-align:center;">
0.195
</td>
<td style="text-align:center;">
0.145
</td>
<td style="text-align:center;">
0.613
</td>
<td style="text-align:center;">
0.360
</td>
<td style="text-align:center;">
0.812
</td>
<td style="text-align:center;">
0.236
</td>
</tr>
<tr>
<td style="text-align:left;">
10-Phae.long4-2.wav
</td>
<td style="text-align:center;">
0.216
</td>
<td style="text-align:center;">
1.000
</td>
<td style="text-align:center;">
0.781
</td>
<td style="text-align:center;">
0.290
</td>
<td style="text-align:center;">
0.235
</td>
<td style="text-align:center;">
0.907
</td>
<td style="text-align:center;">
0.289
</td>
<td style="text-align:center;">
0.176
</td>
<td style="text-align:center;">
0.204
</td>
<td style="text-align:center;">
0.209
</td>
<td style="text-align:center;">
0.323
</td>
</tr>
<tr>
<td style="text-align:left;">
11-Phae.long4-3.wav
</td>
<td style="text-align:center;">
0.184
</td>
<td style="text-align:center;">
0.781
</td>
<td style="text-align:center;">
1.000
</td>
<td style="text-align:center;">
0.279
</td>
<td style="text-align:center;">
0.186
</td>
<td style="text-align:center;">
0.804
</td>
<td style="text-align:center;">
0.274
</td>
<td style="text-align:center;">
0.127
</td>
<td style="text-align:center;">
0.189
</td>
<td style="text-align:center;">
0.185
</td>
<td style="text-align:center;">
0.393
</td>
</tr>
<tr>
<td style="text-align:left;">
07-Phae.long3-2.wav
</td>
<td style="text-align:center;">
0.285
</td>
<td style="text-align:center;">
0.290
</td>
<td style="text-align:center;">
0.279
</td>
<td style="text-align:center;">
1.000
</td>
<td style="text-align:center;">
0.433
</td>
<td style="text-align:center;">
0.281
</td>
<td style="text-align:center;">
0.270
</td>
<td style="text-align:center;">
0.251
</td>
<td style="text-align:center;">
0.635
</td>
<td style="text-align:center;">
0.274
</td>
<td style="text-align:center;">
0.496
</td>
</tr>
<tr>
<td style="text-align:left;">
05-Phae.long2-2.wav
</td>
<td style="text-align:center;">
0.443
</td>
<td style="text-align:center;">
0.235
</td>
<td style="text-align:center;">
0.186
</td>
<td style="text-align:center;">
0.433
</td>
<td style="text-align:center;">
1.000
</td>
<td style="text-align:center;">
0.197
</td>
<td style="text-align:center;">
0.243
</td>
<td style="text-align:center;">
0.449
</td>
<td style="text-align:center;">
0.397
</td>
<td style="text-align:center;">
0.363
</td>
<td style="text-align:center;">
0.304
</td>
</tr>
<tr>
<td style="text-align:left;">
09-Phae.long4-1.wav
</td>
<td style="text-align:center;">
0.195
</td>
<td style="text-align:center;">
0.907
</td>
<td style="text-align:center;">
0.804
</td>
<td style="text-align:center;">
0.281
</td>
<td style="text-align:center;">
0.197
</td>
<td style="text-align:center;">
1.000
</td>
<td style="text-align:center;">
0.310
</td>
<td style="text-align:center;">
0.164
</td>
<td style="text-align:center;">
0.199
</td>
<td style="text-align:center;">
0.214
</td>
<td style="text-align:center;">
0.322
</td>
</tr>
<tr>
<td style="text-align:left;">
04-Phae.long2-1.wav
</td>
<td style="text-align:center;">
0.145
</td>
<td style="text-align:center;">
0.289
</td>
<td style="text-align:center;">
0.274
</td>
<td style="text-align:center;">
0.270
</td>
<td style="text-align:center;">
0.243
</td>
<td style="text-align:center;">
0.310
</td>
<td style="text-align:center;">
1.000
</td>
<td style="text-align:center;">
0.151
</td>
<td style="text-align:center;">
0.302
</td>
<td style="text-align:center;">
0.182
</td>
<td style="text-align:center;">
0.256
</td>
</tr>
<tr>
<td style="text-align:left;">
02-Phae.long1-2.wav
</td>
<td style="text-align:center;">
0.613
</td>
<td style="text-align:center;">
0.176
</td>
<td style="text-align:center;">
0.127
</td>
<td style="text-align:center;">
0.251
</td>
<td style="text-align:center;">
0.449
</td>
<td style="text-align:center;">
0.164
</td>
<td style="text-align:center;">
0.151
</td>
<td style="text-align:center;">
1.000
</td>
<td style="text-align:center;">
0.264
</td>
<td style="text-align:center;">
0.448
</td>
<td style="text-align:center;">
0.200
</td>
</tr>
<tr>
<td style="text-align:left;">
06-Phae.long3-1.wav
</td>
<td style="text-align:center;">
0.360
</td>
<td style="text-align:center;">
0.204
</td>
<td style="text-align:center;">
0.189
</td>
<td style="text-align:center;">
0.635
</td>
<td style="text-align:center;">
0.397
</td>
<td style="text-align:center;">
0.199
</td>
<td style="text-align:center;">
0.302
</td>
<td style="text-align:center;">
0.264
</td>
<td style="text-align:center;">
1.000
</td>
<td style="text-align:center;">
0.318
</td>
<td style="text-align:center;">
0.377
</td>
</tr>
<tr>
<td style="text-align:left;">
03-Phae.long1-3.wav
</td>
<td style="text-align:center;">
0.812
</td>
<td style="text-align:center;">
0.209
</td>
<td style="text-align:center;">
0.185
</td>
<td style="text-align:center;">
0.274
</td>
<td style="text-align:center;">
0.363
</td>
<td style="text-align:center;">
0.214
</td>
<td style="text-align:center;">
0.182
</td>
<td style="text-align:center;">
0.448
</td>
<td style="text-align:center;">
0.318
</td>
<td style="text-align:center;">
1.000
</td>
<td style="text-align:center;">
0.227
</td>
</tr>
<tr>
<td style="text-align:left;">
08-Phae.long3-3.wav
</td>
<td style="text-align:center;">
0.236
</td>
<td style="text-align:center;">
0.323
</td>
<td style="text-align:center;">
0.393
</td>
<td style="text-align:center;">
0.496
</td>
<td style="text-align:center;">
0.304
</td>
<td style="text-align:center;">
0.322
</td>
<td style="text-align:center;">
0.256
</td>
<td style="text-align:center;">
0.200
</td>
<td style="text-align:center;">
0.377
</td>
<td style="text-align:center;">
0.227
</td>
<td style="text-align:center;">
1.000
</td>
</tr>
</tbody>
</table>
</div>
<p> </p>
<p>and the time lag matrix:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1">xcorr.rav<span class="op">$</span><span class="st">`</span><span class="dt">lag (s)</span><span class="st">`</span></a></code></pre></div>
<p> </p>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:500px; overflow-x: scroll; width:808px; ">
<table class="table table table-striped table-hover table-condensed table-responsive">
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
01-Phae.long1-1.wav
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
10-Phae.long4-2.wav
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
11-Phae.long4-3.wav
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
07-Phae.long3-2.wav
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
05-Phae.long2-2.wav
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
09-Phae.long4-1.wav
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
04-Phae.long2-1.wav
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
02-Phae.long1-2.wav
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
06-Phae.long3-1.wav
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
03-Phae.long1-3.wav
</th>
<th style="text-align:center;position: sticky; top:0; background-color: #FFFFFF;">
08-Phae.long3-3.wav
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
01-Phae.long1-1.wav
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
0.011
</td>
<td style="text-align:center;">
0.006
</td>
<td style="text-align:center;">
0.028
</td>
<td style="text-align:center;">
0.034
</td>
<td style="text-align:center;">
0.006
</td>
<td style="text-align:center;">
0.023
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
0.023
</td>
<td style="text-align:center;">
-0.006
</td>
<td style="text-align:center;">
0.023
</td>
</tr>
<tr>
<td style="text-align:left;">
10-Phae.long4-2.wav
</td>
<td style="text-align:center;">
-0.011
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
-0.006
</td>
<td style="text-align:center;">
0.040
</td>
<td style="text-align:center;">
0.023
</td>
<td style="text-align:center;">
-0.006
</td>
<td style="text-align:center;">
-0.028
</td>
<td style="text-align:center;">
-0.017
</td>
<td style="text-align:center;">
0.040
</td>
<td style="text-align:center;">
-0.017
</td>
<td style="text-align:center;">
0.057
</td>
</tr>
<tr>
<td style="text-align:left;">
11-Phae.long4-3.wav
</td>
<td style="text-align:center;">
-0.006
</td>
<td style="text-align:center;">
0.006
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
0.046
</td>
<td style="text-align:center;">
0.028
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
-0.023
</td>
<td style="text-align:center;">
-0.074
</td>
<td style="text-align:center;">
0.046
</td>
<td style="text-align:center;">
-0.011
</td>
<td style="text-align:center;">
0.063
</td>
</tr>
<tr>
<td style="text-align:left;">
07-Phae.long3-2.wav
</td>
<td style="text-align:center;">
-0.028
</td>
<td style="text-align:center;">
-0.040
</td>
<td style="text-align:center;">
-0.046
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
-0.011
</td>
<td style="text-align:center;">
-0.046
</td>
<td style="text-align:center;">
-0.023
</td>
<td style="text-align:center;">
-0.034
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
-0.028
</td>
<td style="text-align:center;">
0.017
</td>
</tr>
<tr>
<td style="text-align:left;">
05-Phae.long2-2.wav
</td>
<td style="text-align:center;">
-0.034
</td>
<td style="text-align:center;">
-0.023
</td>
<td style="text-align:center;">
-0.028
</td>
<td style="text-align:center;">
0.011
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
-0.028
</td>
<td style="text-align:center;">
0.017
</td>
<td style="text-align:center;">
-0.028
</td>
<td style="text-align:center;">
0.023
</td>
<td style="text-align:center;">
-0.040
</td>
<td style="text-align:center;">
0.006
</td>
</tr>
<tr>
<td style="text-align:left;">
09-Phae.long4-1.wav
</td>
<td style="text-align:center;">
-0.006
</td>
<td style="text-align:center;">
0.006
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
0.046
</td>
<td style="text-align:center;">
0.028
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
-0.023
</td>
<td style="text-align:center;">
0.034
</td>
<td style="text-align:center;">
0.046
</td>
<td style="text-align:center;">
-0.011
</td>
<td style="text-align:center;">
0.063
</td>
</tr>
<tr>
<td style="text-align:left;">
04-Phae.long2-1.wav
</td>
<td style="text-align:center;">
-0.023
</td>
<td style="text-align:center;">
0.028
</td>
<td style="text-align:center;">
0.023
</td>
<td style="text-align:center;">
0.023
</td>
<td style="text-align:center;">
-0.017
</td>
<td style="text-align:center;">
0.023
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
-0.057
</td>
<td style="text-align:center;">
0.057
</td>
<td style="text-align:center;">
-0.051
</td>
<td style="text-align:center;">
0.017
</td>
</tr>
<tr>
<td style="text-align:left;">
02-Phae.long1-2.wav
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
0.017
</td>
<td style="text-align:center;">
0.074
</td>
<td style="text-align:center;">
0.034
</td>
<td style="text-align:center;">
0.028
</td>
<td style="text-align:center;">
-0.034
</td>
<td style="text-align:center;">
0.057
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
0.040
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
0.023
</td>
</tr>
<tr>
<td style="text-align:left;">
06-Phae.long3-1.wav
</td>
<td style="text-align:center;">
-0.023
</td>
<td style="text-align:center;">
-0.040
</td>
<td style="text-align:center;">
-0.046
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
-0.023
</td>
<td style="text-align:center;">
-0.046
</td>
<td style="text-align:center;">
-0.057
</td>
<td style="text-align:center;">
-0.040
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
-0.028
</td>
<td style="text-align:center;">
0.000
</td>
</tr>
<tr>
<td style="text-align:left;">
03-Phae.long1-3.wav
</td>
<td style="text-align:center;">
0.006
</td>
<td style="text-align:center;">
0.017
</td>
<td style="text-align:center;">
0.011
</td>
<td style="text-align:center;">
0.028
</td>
<td style="text-align:center;">
0.040
</td>
<td style="text-align:center;">
0.011
</td>
<td style="text-align:center;">
0.051
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
0.028
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
0.023
</td>
</tr>
<tr>
<td style="text-align:left;">
08-Phae.long3-3.wav
</td>
<td style="text-align:center;">
-0.023
</td>
<td style="text-align:center;">
-0.057
</td>
<td style="text-align:center;">
-0.063
</td>
<td style="text-align:center;">
-0.017
</td>
<td style="text-align:center;">
-0.006
</td>
<td style="text-align:center;">
-0.063
</td>
<td style="text-align:center;">
-0.017
</td>
<td style="text-align:center;">
-0.023
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
-0.023
</td>
<td style="text-align:center;">
0.000
</td>
</tr>
</tbody>
</table>
</div>
<p> </p>
<p>This output is ready for stats. For instance, the following code runs a mantel test between cross-correlation (converted to distances) and <a href="https://cran.r-project.org/package=warbleR">warbleR</a> spectral parameter pairwise dissimilarities:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1"><span class="co">#convert cross-corr to distance</span></a>
<a class="sourceLine" id="cb23-2" data-line-number="2">xcorr.rvn &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">-</span><span class="st"> </span>xcorr.rav<span class="op">$</span>correlation</a>
<a class="sourceLine" id="cb23-3" data-line-number="3"></a>
<a class="sourceLine" id="cb23-4" data-line-number="4"><span class="co">#sort matrix to match selection table</span></a>
<a class="sourceLine" id="cb23-5" data-line-number="5">xcorr.rvn &lt;-<span class="st"> </span>xcorr.rvn[<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/order">order</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/colnames">rownames</a></span>(xcorr.rvn)), <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/order">order</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/colnames">colnames</a></span>(xcorr.rvn))]</a>
<a class="sourceLine" id="cb23-6" data-line-number="6"></a>
<a class="sourceLine" id="cb23-7" data-line-number="7"><span class="co">#convert it to distance matrix</span></a>
<a class="sourceLine" id="cb23-8" data-line-number="8">xcorr.rvn &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/dist">as.dist</a></span>(xcorr.rvn)</a>
<a class="sourceLine" id="cb23-9" data-line-number="9"></a>
<a class="sourceLine" id="cb23-10" data-line-number="10"><span class="co"># measure acoustic parameters</span></a>
<a class="sourceLine" id="cb23-11" data-line-number="11">sp.wrblR &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/warbleR/topics/specan">specan</a></span>(selec.table, <span class="dt">bp =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">1</span>, <span class="dv">11</span>), <span class="dt">wl =</span> <span class="dv">150</span>, <span class="dt">pb =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb23-12" data-line-number="12"></a>
<a class="sourceLine" id="cb23-13" data-line-number="13"><span class="co">#convert them to distance matrix</span></a>
<a class="sourceLine" id="cb23-14" data-line-number="14">dist.sp.wrblR &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/dist">dist</a></span>(sp.wrblR)</a></code></pre></div>
<pre><code>Warning in dist(sp.wrblR): NAs introduced by coercion</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1">vegan<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/vegan/topics/mantel">mantel</a></span>(xcorr.rvn, dist.sp.wrblR)</a></code></pre></div>
<pre><code>
Mantel statistic based on Pearson's product-moment correlation 

Call:
vegan::mantel(xdis = xcorr.rvn, ydis = dist.sp.wrblR) 

Mantel statistic r: 0.259 
      Significance: 0.015 

Upper quantiles of permutations (null model):
  90%   95% 97.5%   99% 
0.151 0.201 0.229 0.272 
Permutation: free
Number of permutations: 999</code></pre>
<p> </p>
<p>There is actually a good match between the two methods!</p>
<hr>
</div>
</div>
<div id="exporting-r-data-to-raven" class="section level2">
<h2 class="hasAnchor">
<a href="#exporting-r-data-to-raven" class="anchor"></a>Exporting R data to Raven</h2>
<div id="exp_raven" class="section level3">
<h3 class="hasAnchor">
<a href="#exp_raven" class="anchor"></a><em>exp_raven</em>
</h3>
<p><em>exp_raven</em> saves a selection table in ‘.txt’ format that can be directly opened in Raven. No objects are returned into the R environment. The following code exports a data table from a single sound file:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1"><span class="co"># Select data for a single sound file</span></a>
<a class="sourceLine" id="cb27-2" data-line-number="2">st1 &lt;-<span class="st"> </span>selec.table[selec.table<span class="op">$</span>sound.files <span class="op">==</span><span class="st"> "Phae.long1.wav"</span>,]</a>
<a class="sourceLine" id="cb27-3" data-line-number="3"></a>
<a class="sourceLine" id="cb27-4" data-line-number="4"><span class="co"># Export data of a single sound file</span></a>
<a class="sourceLine" id="cb27-5" data-line-number="5"><span class="kw"><a href="../reference/exp_raven.html">exp_raven</a></span>(st1, <span class="dt">file.name =</span> <span class="st">"Phaethornis 1"</span>, <span class="dt">khz.to.hz =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p> </p>
<p>If the path to the sound file is provided, the functions exports a ‘sound selection table’ which can be directly open by <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a> (and which will also open the associated sound file):</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1"><span class="co"># Select data for a single sound file</span></a>
<a class="sourceLine" id="cb28-2" data-line-number="2">st1 &lt;-<span class="st"> </span>selec.table[selec.table<span class="op">$</span>sound.files <span class="op">==</span><span class="st"> "Phae.long1.wav"</span>,]</a>
<a class="sourceLine" id="cb28-3" data-line-number="3"></a>
<a class="sourceLine" id="cb28-4" data-line-number="4"><span class="co"># Export data of a single sound file</span></a>
<a class="sourceLine" id="cb28-5" data-line-number="5"><span class="kw"><a href="../reference/exp_raven.html">exp_raven</a></span>(st1, <span class="dt">file.name =</span> <span class="st">"Phaethornis 1"</span>, <span class="dt">khz.to.hz =</span> <span class="ot">TRUE</span>, <span class="dt">sound.file.path =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/tempfile">tempdir</a></span>())</a></code></pre></div>
<p><img src="https://raw.githubusercontent.com/maRce10/Rraven/master/gifs/opt2_short_exp_raven1.gif" alt="gif2">  </p>
<p>This is useful to add new selections or even new measurements:</p>
<p><img src="https://raw.githubusercontent.com/maRce10/Rraven/master/gifs/opt2_short_exp_raven2.gif" alt="gif3">  </p>
<p>If several sound files are available, users can either export them as a single selection file or as multiple selection files (one for each sound file). This example creates a multiple sound file selection:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" data-line-number="1"><span class="kw"><a href="../reference/exp_raven.html">exp_raven</a></span>(<span class="dt">X =</span> selec.table, <span class="dt">file.name =</span> <span class="st">"Phaethornis multiple sound files"</span>, </a>
<a class="sourceLine" id="cb29-2" data-line-number="2"><span class="dt">sound.file.path =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/tempfile">tempdir</a></span>(), <span class="dt">single.file =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p> </p>
<p>These type of tables can be opened as a multiple file display in <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a>:</p>
<p><img src="https://raw.githubusercontent.com/maRce10/Rraven/master/gifs/opt2_short_exp_raven3.gif" alt="gif4">  </p>
<hr>
</div>
</div>
<div id="running-raven-from-r" class="section level2">
<h2 class="hasAnchor">
<a href="#running-raven-from-r" class="anchor"></a>Running Raven from R</h2>
<div id="run_raven" class="section level3">
<h3 class="hasAnchor">
<a href="#run_raven" class="anchor"></a><em>run_raven</em>
</h3>
<p>The function opens multiple sound files simultaneously in <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a>. When the analysis is finished (and the <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a> window is closed) the data can be automatically imported back into R using the ‘import’ argument. Note that <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a>, unlike R, can also handle files in ‘mp3’, ‘flac’ and ‘aif’ format .</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1"><span class="co"># here replace with the path where Raven is install in your computer</span></a>
<a class="sourceLine" id="cb30-2" data-line-number="2">raven.path &lt;-<span class="st"> "PATH_TO_RAVEN_DIRECTORY_HERE"</span> </a>
<a class="sourceLine" id="cb30-3" data-line-number="3"></a>
<a class="sourceLine" id="cb30-4" data-line-number="4"><span class="co"># run function </span></a>
<a class="sourceLine" id="cb30-5" data-line-number="5"><span class="kw"><a href="../reference/run_raven.html">run_raven</a></span>(<span class="dt">raven.path =</span> raven.path, <span class="dt">sound.files =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"Phae.long1.wav"</span>, <span class="st">"Phae.long2.wav"</span>, <span class="st">"Phae.long3.wav"</span>, <span class="st">"Phae.long4.wav"</span>), <span class="dt">import =</span> <span class="ot">TRUE</span>, </a>
<a class="sourceLine" id="cb30-6" data-line-number="6"> <span class="dt">all.data =</span> <span class="ot">TRUE</span>)  </a></code></pre></div>
<p><img src="https://raw.githubusercontent.com/maRce10/Rraven/master/gifs/opt2_short_run_raven1.gif" alt="gif5">  </p>
<p>See <code>imp_raven</code> above for more details on additional settings when importing selections.</p>
<hr>
</div>
<div id="raven_batch_detec" class="section level3">
<h3 class="hasAnchor">
<a href="#raven_batch_detec" class="anchor"></a><em>raven_batch_detec</em>
</h3>
<p>As the name suggests, <em>raven_batch_detec</em> runs <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a> detector on multiple sound files (sequentially). Batch detection in <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a> can also take files in ‘mp3’, ‘flac’ and ‘aif’ format (although this could not be further analyzed in R!).</p>
<p>This is example runs the detector on one of the example sound files that comes by default with <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a>:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1">detec.res &lt;-<span class="st"> </span><span class="kw"><a href="../reference/raven_batch_detec.html">raven_batch_detec</a></span>(<span class="dt">raven.path =</span> raven.path, </a>
<a class="sourceLine" id="cb31-2" data-line-number="2"><span class="dt">sound.files =</span> <span class="st">"BlackCappedVireo.aif"</span>, <span class="dt">path =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/file.path">file.path</a></span>(raven.path, <span class="st">"Examples"</span>))</a></code></pre></div>
<p><img src="https://raw.githubusercontent.com/maRce10/Rraven/master/gifs/opt2_short_raven_batch_detec.gif" alt="gif6">  </p>
<hr>
<p>Please report any bugs <a href="https://github.com/maRce10/Rraven/issues">here</a>. The <code>Rraven</code> package should be cited as follows:</p>
<p>Araya-Salas, M. (2017), <em>Rraven: connecting R and Raven bioacoustic software</em>. R package version 1.0.0.</p>
<hr>
<p><font size="4">Session information</font></p>
<pre><code>R version 3.6.0 (2019-04-26)
Platform: x86_64-pc-linux-gnu (64-bit)
Running under: Ubuntu 18.04.2 LTS

Matrix products: default
BLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.7.1
LAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.7.1

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C               LC_TIME=es_CR.UTF-8        LC_COLLATE=en_US.UTF-8     LC_MONETARY=es_CR.UTF-8   
 [6] LC_MESSAGES=en_US.UTF-8    LC_PAPER=es_CR.UTF-8       LC_NAME=C                  LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=es_CR.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] kableExtra_1.1.0   knitr_1.22         Rraven_1.0.6       warbleR_1.1.16     NatureSounds_1.0.1 seewave_2.1.3      tuneR_1.3.3       
[8] maps_3.3.0        

loaded via a namespace (and not attached):
 [1] xfun_0.6          pbapply_1.4-0     splines_3.6.0     lattice_0.20-38   colorspace_1.4-1  viridisLite_0.3.0 htmltools_0.3.6   mgcv_1.8-28      
 [9] yaml_2.2.0        rlang_0.3.4       pracma_2.2.5      pkgdown_1.3.0     pillar_1.4.0      glue_1.3.1        jpeg_0.1-8        stringr_1.4.0    
[17] munsell_0.5.0     commonmark_1.7    rvest_0.3.3       memoise_1.1.0     evaluate_0.13     permute_0.9-5     fftw_1.0-5        parallel_3.6.0   
[25] Rcpp_1.0.1        readr_1.3.1       backports_1.1.4   scales_1.0.0      vegan_2.5-5       desc_1.2.0        webshot_0.5.1     soundgen_1.4.0   
[33] Sim.DiffProc_4.3  fs_1.3.1          Deriv_3.8.5       rjson_0.2.20      hms_0.4.2         digest_0.6.18     stringi_1.4.3     grid_3.6.0       
[41] dtw_1.20-1        rprojroot_1.3-2   tools_3.6.0       bitops_1.0-6      magrittr_1.5      RCurl_1.95-4.12   proxy_0.4-23      tibble_2.1.1     
[49] cluster_2.0.8     crayon_1.3.4      pkgconfig_2.0.2   Matrix_1.2-17     MASS_7.3-51.4     xml2_1.2.0        assertthat_0.2.1  rmarkdown_1.12   
[57] roxygen2_6.1.1    httr_1.4.0        rstudioapi_0.10   iterators_1.0.10  R6_2.4.0          nlme_3.1-139      signal_0.7-6      compiler_3.6.0   </code></pre>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#importing-data-from-raven">Importing data from Raven</a></li>
      <li><a href="#catalog"><img src="Catalog.jpeg" alt="catalog"></a></li>
      <li><a href="#exporting-r-data-to-raven">Exporting R data to Raven</a></li>
      <li><a href="#running-raven-from-r">Running Raven from R</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Marcelo Araya-Salas.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  
</body>
</html>
