<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
<center>
<font size="7"><b>Rraven: Connecting R and Raven Sound Analysis Software</b></font>
</center> • Rraven</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="&lt;center&gt;
&lt;font size=">
</head>
<body>
<b>Rraven: Connecting R and Raven Sound Analysis Software</b>
" /&gt;

<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Rraven</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">1.0.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/Rraven.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/maRce10/Rraven">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><script src="Rraven_files/kePrint-0.0.1/kePrint.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1><center>
<font size="7"><b>Rraven: Connecting R and Raven Sound Analysis Software</b></font>
</center></h1>
                        <h4 class="author"><center>
<a href="http://marceloarayasalas.weebly.com/">Marcelo Araya-Salas, PhD</a>
</center></h4>
            
            <h4 class="date"><center>
“2019-03-11”
</center></h4>
      
      <small class="dont-index">Source: <a href="https://github.com/maRce10/Rraven/blob/master/vignettes/Rraven.Rmd"><code>vignettes/Rraven.Rmd</code></a></small>
      <div class="hidden name"><code>Rraven.Rmd</code></div>

    </div>

    
    
<p> </p>
<p>The <code>Rraven</code> package is designed to facilitate the exchange of data between R and <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven sound analysis software</a> (<a href="http://www.birds.cornell.edu">Cornell Lab of Ornithology</a>). <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a> provides very powerful tools for the analysis of (animal) sounds. R can simplify the automatization of complex routines of analyses. Furthermore, R packages as <a href="https://cran.r-project.org/package=warbleR">warbleR</a>, <a href="https://cran.r-project.org/package=seewave">seewave</a> and <a href="https://cran.r-project.org/package=monitoR">monitoR</a> (among others) provide additional methods of analysis, working as a perfect complement for those found in <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a>. Hence, bridging these applications can largely expand the bioacoustician’s toolkit.</p>
<p>Currently, most analyses in <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a> cannot be run in the background from a command terminal. Thus, most <code>Rraven</code> functions are design to simplify the exchange of data between the two programs, and in some cases, export files to <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a> for further analysis. This vignette provides detailed examples for each function in <code>Rraven</code>, including both the R code as well as the additional steps in <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a> required to fully accomplished the analyses. Raven Pro must be installed to be able to run some of the code. Note that the animations explaining these additional <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a> steps are shown in more detail in the <a href="https://github.com/maRce10/Rraven">github</a> version of this vignette, which can be downloaded as follows (saves the file “Rraven.hitgub.html” in your current working directory):</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">download.file</span>(<span class="dt">url =</span> <span class="st">"https://github.com/maRce10/Rraven/raw/master/gifs/Rraven.hitgub.html"</span>, <span class="dt">destfile =</span> <span class="st">"Rraven.hitgub.html"</span>)</a></code></pre></div>
<p> </p>
<p>The downloaded file can be opened by any internet browser.</p>
<p>Before getting into the functions, the packages must be installed and loaded. I recommend using the latest developmental version, which is found in <a href="https://github.com/maRce10/Rraven">github</a>. To do so, you need the R package <a href="https://cran.r-project.org/package=devtools">devtools</a> (which of course should be installed!). Some <a href="https://cran.r-project.org/package=warbleR">warbleR</a> functions and example data sets will be used, so <a href="https://cran.r-project.org/package=warbleR">warbleR</a> should be installed as well:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"maRce10/warbleR"</span>)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"></a>
<a class="sourceLine" id="cb2-3" data-line-number="3">devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"maRce10/Rraven"</span>)</a>
<a class="sourceLine" id="cb2-4" data-line-number="4"></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co">#from CRAN would be</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="co">#install.packages("warbleR")</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="co">#load packages</span></a>
<a class="sourceLine" id="cb2-9" data-line-number="9"><span class="kw">library</span>(warbleR)</a>
<a class="sourceLine" id="cb2-10" data-line-number="10"><span class="kw">library</span>(Rraven)</a></code></pre></div>
<p> </p>
<p>Let’s also use a temporary folder as the working directory i which to save all sound files and data files:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw">setwd</span>(<span class="kw">tempdir</span>())</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="co">#load example data</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="kw">data</span>(<span class="dt">list =</span> <span class="kw">c</span>(<span class="st">"Phae.long1"</span>, <span class="st">"Phae.long2"</span>, <span class="st">"Phae.long3"</span>, <span class="st">"Phae.long4"</span>, <span class="st">"selec.table"</span>, <span class="st">"selection_files"</span>))</a>
<a class="sourceLine" id="cb3-5" data-line-number="5"></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="co">#save sound files  in temporary directory</span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="kw">writeWave</span>(Phae.long1,<span class="st">"Phae.long1.wav"</span>)</a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="kw">writeWave</span>(Phae.long2,<span class="st">"Phae.long2.wav"</span>)</a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="kw">writeWave</span>(Phae.long3,<span class="st">"Phae.long3.wav"</span>)</a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="kw">writeWave</span>(Phae.long4,<span class="st">"Phae.long4.wav"</span>)</a>
<a class="sourceLine" id="cb3-11" data-line-number="11"></a>
<a class="sourceLine" id="cb3-12" data-line-number="12"><span class="co">#save Raven selection tables in the temporary directory</span></a>
<a class="sourceLine" id="cb3-13" data-line-number="13">out &lt;-<span class="st"> </span><span class="kw">lapply</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="cf">function</span>(x)</a>
<a class="sourceLine" id="cb3-14" data-line-number="14"><span class="kw">writeLines</span>(selection_files[[x]], <span class="dt">con =</span> <span class="kw">names</span>(selection_files)[x]))</a>
<a class="sourceLine" id="cb3-15" data-line-number="15"></a>
<a class="sourceLine" id="cb3-16" data-line-number="16"><span class="co">#this is the temporary directory location (of course different each time is run)</span></a>
<a class="sourceLine" id="cb3-17" data-line-number="17"><span class="kw">getwd</span>() </a></code></pre></div>
<p> </p>
<hr>
<div id="importing-data-from-raven" class="section level2">
<h2 class="hasAnchor">
<a href="#importing-data-from-raven" class="anchor"></a>Importing data from Raven</h2>
<div id="imp_raven" class="section level3">
<h3 class="hasAnchor">
<a href="#imp_raven" class="anchor"></a><em>imp_raven</em>
</h3>
<p>This function imports <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a> selection tables. Multiple files can be imported at once. <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a> selection tables including data from multiple recordings can also be imported. It returns a single data frame with the information contained in the selection files. We already have 2 <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a> selection tables in the working directory:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw">list.files</span>(<span class="dt">path =</span> <span class="kw">tempdir</span>(), <span class="dt">pattern =</span> <span class="st">"</span><span class="ch">\\</span><span class="st">.txt$"</span>)</a></code></pre></div>
<pre><code>[1] "LBH 1 selection table example.txt" "LBH 2 selection table example.txt" "LBH 3 selection table example.txt" "LBH 4 selection table example.txt"</code></pre>
<p> </p>
<p>This code shows how to import all the data contained in those files into R:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"> <span class="co">#providing the name of the column with the sound file names</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2">rvn.dat &lt;-<span class="st"> </span><span class="kw"><a href="../reference/imp_raven.html">imp_raven</a></span>(<span class="dt">all.data =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb6-3" data-line-number="3"></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="kw">head</span>(rvn.dat)</a></code></pre></div>
<div style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:808px; ">
<table class="table" style="font-size: 11px; width: auto !important; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:center;">
Selection
</th>
<th style="text-align:center;">
View
</th>
<th style="text-align:center;">
Channel
</th>
<th style="text-align:center;">
Begin Time (s)
</th>
<th style="text-align:center;">
End Time (s)
</th>
<th style="text-align:center;">
Low Freq (Hz)
</th>
<th style="text-align:center;">
High Freq (Hz)
</th>
<th style="text-align:center;">
Begin File
</th>
<th style="text-align:center;">
channel
</th>
<th style="text-align:center;">
Begin Path
</th>
<th style="text-align:center;">
File Offset (s)
</th>
<th style="text-align:center;">
selec.file
</th>
<th style="text-align:center;">
File Offset
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
Spectrogram 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1.1693549
</td>
<td style="text-align:center;">
1.3423884
</td>
<td style="text-align:center;">
2220.105
</td>
<td style="text-align:center;">
8604.378
</td>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
/tmp/RtmpWpOeaR/Phae.long1.wav
</td>
<td style="text-align:center;">
1.1693549
</td>
<td style="text-align:center;">
LBH 1 selection table example.txt
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
Spectrogram 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
2.1584085
</td>
<td style="text-align:center;">
2.3214565
</td>
<td style="text-align:center;">
2169.437
</td>
<td style="text-align:center;">
8807.053
</td>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
/tmp/RtmpWpOeaR/Phae.long1.wav
</td>
<td style="text-align:center;">
2.1584085
</td>
<td style="text-align:center;">
LBH 1 selection table example.txt
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
Spectrogram 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.3433366
</td>
<td style="text-align:center;">
0.5182553
</td>
<td style="text-align:center;">
2218.294
</td>
<td style="text-align:center;">
8756.604
</td>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
/tmp/RtmpWpOeaR/Phae.long1.wav
</td>
<td style="text-align:center;">
0.3433366
</td>
<td style="text-align:center;">
LBH 1 selection table example.txt
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
Spectrogram 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.1595983
</td>
<td style="text-align:center;">
0.2921692
</td>
<td style="text-align:center;">
2316.862
</td>
<td style="text-align:center;">
8822.316
</td>
<td style="text-align:center;">
Phae.long2.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
/tmp/RtmpWpOeaR/Phae.long2.wav
</td>
<td style="text-align:center;">
0.1595983
</td>
<td style="text-align:center;">
LBH 2 selection table example.txt
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
Spectrogram 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1.4570585
</td>
<td style="text-align:center;">
1.5832087
</td>
<td style="text-align:center;">
2284.006
</td>
<td style="text-align:center;">
8888.027
</td>
<td style="text-align:center;">
Phae.long2.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
/tmp/RtmpWpOeaR/Phae.long2.wav
</td>
<td style="text-align:center;">
1.4570585
</td>
<td style="text-align:center;">
LBH 2 selection table example.txt
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
Spectrogram 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.6265520
</td>
<td style="text-align:center;">
0.7577715
</td>
<td style="text-align:center;">
3006.834
</td>
<td style="text-align:center;">
8822.316
</td>
<td style="text-align:center;">
Phae.long3.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
/tmp/RtmpWpOeaR/Phae.long3.wav
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
LBH 3 selection table example.txt
</td>
<td style="text-align:center;">
0.626552
</td>
</tr>
</tbody>
</table>
</div>
<p> </p>
<p>Note that the ‘waveform’ view data has been removed. It can also be imported as follows (but note that the example selection tables have no waveform data):</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">rvn.dat &lt;-<span class="st"> </span><span class="kw"><a href="../reference/imp_raven.html">imp_raven</a></span>(<span class="dt">all.data =</span> <span class="ot">TRUE</span>, <span class="dt">waveform =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p> </p>
<p><a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a> selections can also be imported in a ‘selection.table’ format so it can be directly input into <a href="https://cran.r-project.org/package=warbleR">warbleR</a> functions. To do this you need to set the <code>all.data = FALSE</code> and indicate which column contains the sound file name (using the ‘sound.file.col’ argument):</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"> <span class="co">#providing the name of the column with the sound file names</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2">rvn.dat &lt;-<span class="st"> </span><span class="kw"><a href="../reference/imp_raven.html">imp_raven</a></span>(<span class="dt">sound.file.col =</span> <span class="st">"End.File"</span>, <span class="dt">all.data =</span> <span class="ot">FALSE</span>, <span class="dt">freq.cols =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb8-3" data-line-number="3"></a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="kw">head</span>(rvn.dat)</a></code></pre></div>
<table class="table" style="font-size: 12px; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:center;">
sound.files
</th>
<th style="text-align:center;">
channel.Channel
</th>
<th style="text-align:center;">
channel.channel
</th>
<th style="text-align:center;">
selec
</th>
<th style="text-align:center;">
start
</th>
<th style="text-align:center;">
end
</th>
<th style="text-align:center;">
selec.file
</th>
<th style="text-align:center;">
bottom.freq
</th>
<th style="text-align:center;">
top.freq
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1.1693549
</td>
<td style="text-align:center;">
1.3423884
</td>
<td style="text-align:center;">
LBH 1 selection table example.txt
</td>
<td style="text-align:center;">
2.220105
</td>
<td style="text-align:center;">
8.604378
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
2.1584085
</td>
<td style="text-align:center;">
2.3214565
</td>
<td style="text-align:center;">
LBH 1 selection table example.txt
</td>
<td style="text-align:center;">
2.169437
</td>
<td style="text-align:center;">
8.807053
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
0.3433366
</td>
<td style="text-align:center;">
0.5182553
</td>
<td style="text-align:center;">
LBH 1 selection table example.txt
</td>
<td style="text-align:center;">
2.218294
</td>
<td style="text-align:center;">
8.756604
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long2.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.1595983
</td>
<td style="text-align:center;">
0.2921692
</td>
<td style="text-align:center;">
LBH 2 selection table example.txt
</td>
<td style="text-align:center;">
2.316862
</td>
<td style="text-align:center;">
8.822316
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long2.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
1.4570585
</td>
<td style="text-align:center;">
1.5832087
</td>
<td style="text-align:center;">
LBH 2 selection table example.txt
</td>
<td style="text-align:center;">
2.284006
</td>
<td style="text-align:center;">
8.888027
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long3.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.6265520
</td>
<td style="text-align:center;">
0.7577715
</td>
<td style="text-align:center;">
LBH 3 selection table example.txt
</td>
<td style="text-align:center;">
3.006834
</td>
<td style="text-align:center;">
8.822316
</td>
</tr>
</tbody>
</table>
<p> </p>
<p>The data frame contains the following columns: sound.files, channel, selec, start, end, and selec.file. You can also import the frequency range parameters in the ‘selection.table’ by setting ‘freq.cols’ tp <code>TRUE</code>. The data frame returned by “imp_raven” (when in the ‘warbleR’ format) can be input into several <a href="https://cran.r-project.org/package=warbleR">warbleR</a> functions for further analysis. For instance, the following code runs additional parameter measurements on the imported selections:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="co"># convert to class selection.table</span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2">rvn.dat.st &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/warbleR/topics/make.selection.table">make.selection.table</a></span>(rvn.dat)</a>
<a class="sourceLine" id="cb9-3" data-line-number="3"></a>
<a class="sourceLine" id="cb9-4" data-line-number="4">sp &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/warbleR/topics/specan">specan</a></span>(<span class="dt">X =</span> rvn.dat, <span class="dt">bp =</span> <span class="st">"frange"</span>, <span class="dt">wl =</span> <span class="dv">150</span>, <span class="dt">pb =</span> <span class="ot">FALSE</span>, <span class="dt">ovlp =</span> <span class="dv">90</span>)</a>
<a class="sourceLine" id="cb9-5" data-line-number="5"></a>
<a class="sourceLine" id="cb9-6" data-line-number="6"><span class="kw">head</span>(sp)</a></code></pre></div>
<pre><code>checking selections (step 1 of 2):
all selections are OK </code></pre>
<div style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:808px; ">
<table class="table" style="font-size: 11px; width: auto !important; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:center;">
sound.files
</th>
<th style="text-align:center;">
selec
</th>
<th style="text-align:center;">
top.freq
</th>
<th style="text-align:center;">
bottom.freq
</th>
<th style="text-align:center;">
duration
</th>
<th style="text-align:center;">
meanfreq
</th>
<th style="text-align:center;">
sd
</th>
<th style="text-align:center;">
freq.median
</th>
<th style="text-align:center;">
freq.Q25
</th>
<th style="text-align:center;">
freq.Q75
</th>
<th style="text-align:center;">
freq.IQR
</th>
<th style="text-align:center;">
time.median
</th>
<th style="text-align:center;">
time.Q25
</th>
<th style="text-align:center;">
time.Q75
</th>
<th style="text-align:center;">
time.IQR
</th>
<th style="text-align:center;">
skew
</th>
<th style="text-align:center;">
kurt
</th>
<th style="text-align:center;">
sp.ent
</th>
<th style="text-align:center;">
time.ent
</th>
<th style="text-align:center;">
entropy
</th>
<th style="text-align:center;">
sfm
</th>
<th style="text-align:center;">
meandom
</th>
<th style="text-align:center;">
mindom
</th>
<th style="text-align:center;">
maxdom
</th>
<th style="text-align:center;">
dfrange
</th>
<th style="text-align:center;">
modindx
</th>
<th style="text-align:center;">
startdom
</th>
<th style="text-align:center;">
enddom
</th>
<th style="text-align:center;">
dfslope
</th>
<th style="text-align:center;">
meanpeakf
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
8.604378
</td>
<td style="text-align:center;">
2.220105
</td>
<td style="text-align:center;">
0.1730334
</td>
<td style="text-align:center;">
5.982350
</td>
<td style="text-align:center;">
1.399687
</td>
<td style="text-align:center;">
6.331716
</td>
<td style="text-align:center;">
5.296584
</td>
<td style="text-align:center;">
6.869521
</td>
<td style="text-align:center;">
1.572937
</td>
<td style="text-align:center;">
0.0764552
</td>
<td style="text-align:center;">
0.0465681
</td>
<td style="text-align:center;">
0.1174629
</td>
<td style="text-align:center;">
0.0708948
</td>
<td style="text-align:center;">
1.998039
</td>
<td style="text-align:center;">
7.021565
</td>
<td style="text-align:center;">
0.9434287
</td>
<td style="text-align:center;">
0.8869044
</td>
<td style="text-align:center;">
0.8367310
</td>
<td style="text-align:center;">
0.6510024
</td>
<td style="text-align:center;">
6.491049
</td>
<td style="text-align:center;">
3.825
</td>
<td style="text-align:center;">
8.325
</td>
<td style="text-align:center;">
4.50
</td>
<td style="text-align:center;">
7.200000
</td>
<td style="text-align:center;">
6.975
</td>
<td style="text-align:center;">
7.575
</td>
<td style="text-align:center;">
3.467538
</td>
<td style="text-align:center;">
7.125
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
8.807053
</td>
<td style="text-align:center;">
2.169437
</td>
<td style="text-align:center;">
0.1630480
</td>
<td style="text-align:center;">
5.997299
</td>
<td style="text-align:center;">
1.422930
</td>
<td style="text-align:center;">
6.212125
</td>
<td style="text-align:center;">
5.328746
</td>
<td style="text-align:center;">
6.880795
</td>
<td style="text-align:center;">
1.552049
</td>
<td style="text-align:center;">
0.0766553
</td>
<td style="text-align:center;">
0.0439026
</td>
<td style="text-align:center;">
0.1156798
</td>
<td style="text-align:center;">
0.0717772
</td>
<td style="text-align:center;">
1.918356
</td>
<td style="text-align:center;">
7.334323
</td>
<td style="text-align:center;">
0.9468217
</td>
<td style="text-align:center;">
0.8885655
</td>
<td style="text-align:center;">
0.8413131
</td>
<td style="text-align:center;">
0.6678647
</td>
<td style="text-align:center;">
6.713936
</td>
<td style="text-align:center;">
3.975
</td>
<td style="text-align:center;">
8.475
</td>
<td style="text-align:center;">
4.50
</td>
<td style="text-align:center;">
4.900000
</td>
<td style="text-align:center;">
6.825
</td>
<td style="text-align:center;">
7.275
</td>
<td style="text-align:center;">
2.759923
</td>
<td style="text-align:center;">
6.975
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
8.756604
</td>
<td style="text-align:center;">
2.218294
</td>
<td style="text-align:center;">
0.1749187
</td>
<td style="text-align:center;">
6.020600
</td>
<td style="text-align:center;">
1.515536
</td>
<td style="text-align:center;">
6.428439
</td>
<td style="text-align:center;">
5.152811
</td>
<td style="text-align:center;">
6.983309
</td>
<td style="text-align:center;">
1.830498
</td>
<td style="text-align:center;">
0.0902434
</td>
<td style="text-align:center;">
0.0534519
</td>
<td style="text-align:center;">
0.1277291
</td>
<td style="text-align:center;">
0.0742772
</td>
<td style="text-align:center;">
2.495361
</td>
<td style="text-align:center;">
11.139125
</td>
<td style="text-align:center;">
0.9450824
</td>
<td style="text-align:center;">
0.8866543
</td>
<td style="text-align:center;">
0.8379614
</td>
<td style="text-align:center;">
0.6715892
</td>
<td style="text-align:center;">
6.532707
</td>
<td style="text-align:center;">
2.325
</td>
<td style="text-align:center;">
8.625
</td>
<td style="text-align:center;">
6.30
</td>
<td style="text-align:center;">
10.309524
</td>
<td style="text-align:center;">
2.925
</td>
<td style="text-align:center;">
7.275
</td>
<td style="text-align:center;">
24.868690
</td>
<td style="text-align:center;">
7.125
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long2.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
8.822316
</td>
<td style="text-align:center;">
2.316862
</td>
<td style="text-align:center;">
0.1325709
</td>
<td style="text-align:center;">
6.398304
</td>
<td style="text-align:center;">
1.340412
</td>
<td style="text-align:center;">
6.595971
</td>
<td style="text-align:center;">
5.607323
</td>
<td style="text-align:center;">
7.380852
</td>
<td style="text-align:center;">
1.773529
</td>
<td style="text-align:center;">
0.0768669
</td>
<td style="text-align:center;">
0.0543005
</td>
<td style="text-align:center;">
0.1036645
</td>
<td style="text-align:center;">
0.0493641
</td>
<td style="text-align:center;">
1.568523
</td>
<td style="text-align:center;">
6.016392
</td>
<td style="text-align:center;">
0.9424661
</td>
<td style="text-align:center;">
0.8954798
</td>
<td style="text-align:center;">
0.8439594
</td>
<td style="text-align:center;">
0.6086184
</td>
<td style="text-align:center;">
6.482865
</td>
<td style="text-align:center;">
4.875
</td>
<td style="text-align:center;">
8.025
</td>
<td style="text-align:center;">
3.15
</td>
<td style="text-align:center;">
11.476190
</td>
<td style="text-align:center;">
4.875
</td>
<td style="text-align:center;">
6.225
</td>
<td style="text-align:center;">
10.183230
</td>
<td style="text-align:center;">
7.425
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long2.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
8.888027
</td>
<td style="text-align:center;">
2.284006
</td>
<td style="text-align:center;">
0.1261502
</td>
<td style="text-align:center;">
6.311837
</td>
<td style="text-align:center;">
1.370040
</td>
<td style="text-align:center;">
6.602020
</td>
<td style="text-align:center;">
5.609829
</td>
<td style="text-align:center;">
7.213209
</td>
<td style="text-align:center;">
1.603380
</td>
<td style="text-align:center;">
0.0761028
</td>
<td style="text-align:center;">
0.0528492
</td>
<td style="text-align:center;">
0.0979471
</td>
<td style="text-align:center;">
0.0450980
</td>
<td style="text-align:center;">
2.468996
</td>
<td style="text-align:center;">
10.884349
</td>
<td style="text-align:center;">
0.9357710
</td>
<td style="text-align:center;">
0.8976772
</td>
<td style="text-align:center;">
0.8400203
</td>
<td style="text-align:center;">
0.6151042
</td>
<td style="text-align:center;">
6.176143
</td>
<td style="text-align:center;">
3.075
</td>
<td style="text-align:center;">
7.725
</td>
<td style="text-align:center;">
4.65
</td>
<td style="text-align:center;">
9.580645
</td>
<td style="text-align:center;">
5.625
</td>
<td style="text-align:center;">
5.775
</td>
<td style="text-align:center;">
1.189059
</td>
<td style="text-align:center;">
6.675
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long3.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
8.822316
</td>
<td style="text-align:center;">
3.006834
</td>
<td style="text-align:center;">
0.1312195
</td>
<td style="text-align:center;">
6.612400
</td>
<td style="text-align:center;">
1.093120
</td>
<td style="text-align:center;">
6.670130
</td>
<td style="text-align:center;">
6.067212
</td>
<td style="text-align:center;">
7.349366
</td>
<td style="text-align:center;">
1.282153
</td>
<td style="text-align:center;">
0.0635054
</td>
<td style="text-align:center;">
0.0430425
</td>
<td style="text-align:center;">
0.0896131
</td>
<td style="text-align:center;">
0.0465706
</td>
<td style="text-align:center;">
1.773688
</td>
<td style="text-align:center;">
6.626019
</td>
<td style="text-align:center;">
0.9302440
</td>
<td style="text-align:center;">
0.8958878
</td>
<td style="text-align:center;">
0.8333942
</td>
<td style="text-align:center;">
0.5702146
</td>
<td style="text-align:center;">
6.756285
</td>
<td style="text-align:center;">
4.875
</td>
<td style="text-align:center;">
8.175
</td>
<td style="text-align:center;">
3.30
</td>
<td style="text-align:center;">
11.045454
</td>
<td style="text-align:center;">
5.475
</td>
<td style="text-align:center;">
8.025
</td>
<td style="text-align:center;">
19.433083
</td>
<td style="text-align:center;">
6.675
</td>
</tr>
</tbody>
</table>
</div>
<p> </p>
<p>And this code creates song catalogs:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw"><a href="http://www.rdocumentation.org/packages/warbleR/topics/catalog">catalog</a></span>(<span class="dt">X =</span> rvn.dat.st[<span class="dv">1</span><span class="op">:</span><span class="dv">9</span>, ], <span class="dt">flim =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">10</span>), <span class="dt">nrow =</span> <span class="dv">3</span>, <span class="dt">ncol =</span> <span class="dv">3</span>, <span class="dt">same.time.scale =</span> F,</a>
<a class="sourceLine" id="cb11-2" data-line-number="2"> <span class="dt">ovlp =</span> <span class="dv">90</span>, <span class="dt">parallel =</span> <span class="dv">1</span>, <span class="dt">mar =</span> <span class="fl">0.01</span>, <span class="dt">wl =</span> <span class="dv">200</span>, <span class="dt">pal =</span> reverse.heat.colors, <span class="dt">width =</span> <span class="dv">20</span>,  <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">"sound.files"</span>, <span class="st">"selec"</span>), <span class="dt">legend =</span> <span class="dv">1</span>, </a>
<a class="sourceLine" id="cb11-3" data-line-number="3"> <span class="dt">tag.pal =</span> <span class="kw">list</span>(terrain.colors), <span class="dt">tags =</span> <span class="st">"sound.files"</span>)</a></code></pre></div>
</div>
</div>
<div id="catalog" class="section level2">
<h2 class="hasAnchor">
<a href="#catalog" class="anchor"></a><img src="Catalog.jpeg" alt="catalog">
</h2>
<p>This is just to mention a few analysis that can be implemented in <a href="https://cran.r-project.org/package=warbleR">warbleR</a>.</p>
<p><code>Rraven</code> also contains the function <code>imp_syrinx</code> to import selections from <a href="www.syrinxpc.com">Syrinx sound analyis software</a> (although this program is not been maintained any longer).</p>
<div id="extract_ts" class="section level3">
<h3 class="hasAnchor">
<a href="#extract_ts" class="anchor"></a><em>extract_ts</em>
</h3>
<p>The function extracts parameters encoded as time series in <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a> selection tables. The resulting data frame can be directly input into functions for time series analysis of acoustic signals as in the <a href="https://cran.r-project.org/package=warbleR">warbleR</a> function <code>dfDTW</code>. The function needs an R data frame, so the data should have been previously imported using <code>imp_raven</code>. This example uses the <code>selection_file.ts</code> example data that comes with <code>Rraven</code>:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="co">#remove previous raven data files</span></a>
<a class="sourceLine" id="cb12-2" data-line-number="2"><span class="kw">unlink</span>(<span class="kw">list.files</span>(<span class="dt">pattern =</span> <span class="st">"</span><span class="ch">\\</span><span class="st">.txt$"</span>))</a>
<a class="sourceLine" id="cb12-3" data-line-number="3"></a>
<a class="sourceLine" id="cb12-4" data-line-number="4"><span class="co">#save Raven selection table in the temporary directory</span></a>
<a class="sourceLine" id="cb12-5" data-line-number="5"><span class="kw">writeLines</span>(selection_files[[<span class="dv">5</span>]], <span class="dt">con =</span> <span class="kw">names</span>(selection_files)[<span class="dv">5</span>])</a>
<a class="sourceLine" id="cb12-6" data-line-number="6"></a>
<a class="sourceLine" id="cb12-7" data-line-number="7">rvn.dat &lt;-<span class="st"> </span><span class="kw"><a href="../reference/imp_raven.html">imp_raven</a></span>(<span class="dt">all.data =</span> <span class="ot">TRUE</span>) </a>
<a class="sourceLine" id="cb12-8" data-line-number="8"></a>
<a class="sourceLine" id="cb12-9" data-line-number="9"><span class="co"># Peak freq contour dif length</span></a>
<a class="sourceLine" id="cb12-10" data-line-number="10">fcts &lt;-<span class="st"> </span><span class="kw"><a href="../reference/extract_ts.html">extract_ts</a></span>(<span class="dt">X =</span> rvn.dat, <span class="dt">ts.column =</span> <span class="st">"Peak Freq Contour (Hz)"</span>)</a>
<a class="sourceLine" id="cb12-11" data-line-number="11"> </a>
<a class="sourceLine" id="cb12-12" data-line-number="12"><span class="kw">head</span>(fcts)</a></code></pre></div>
<div style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:808px; ">
<table class="table" style="font-size: 11px; width: auto !important; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:center;">
sound.files
</th>
<th style="text-align:center;">
selec
</th>
<th style="text-align:center;">
PFC..1
</th>
<th style="text-align:center;">
PFC..2
</th>
<th style="text-align:center;">
PFC..3
</th>
<th style="text-align:center;">
PFC..4
</th>
<th style="text-align:center;">
PFC..5
</th>
<th style="text-align:center;">
PFC..6
</th>
<th style="text-align:center;">
PFC..7
</th>
<th style="text-align:center;">
PFC..8
</th>
<th style="text-align:center;">
PFC..9
</th>
<th style="text-align:center;">
PFC..10
</th>
<th style="text-align:center;">
PFC..11
</th>
<th style="text-align:center;">
PFC..12
</th>
<th style="text-align:center;">
PFC..13
</th>
<th style="text-align:center;">
PFC..14
</th>
<th style="text-align:center;">
PFC..15
</th>
<th style="text-align:center;">
PFC..16
</th>
<th style="text-align:center;">
PFC..17
</th>
<th style="text-align:center;">
PFC..18
</th>
<th style="text-align:center;">
PFC..19
</th>
<th style="text-align:center;">
PFC..20
</th>
<th style="text-align:center;">
PFC..21
</th>
<th style="text-align:center;">
PFC..22
</th>
<th style="text-align:center;">
PFC..23
</th>
<th style="text-align:center;">
PFC..24
</th>
<th style="text-align:center;">
PFC..25
</th>
<th style="text-align:center;">
PFC..26
</th>
<th style="text-align:center;">
PFC..27
</th>
<th style="text-align:center;">
PFC..28
</th>
<th style="text-align:center;">
PFC..29
</th>
<th style="text-align:center;">
PFC..30
</th>
<th style="text-align:center;">
PFC..31
</th>
<th style="text-align:center;">
PFC..32
</th>
<th style="text-align:center;">
PFC..33
</th>
<th style="text-align:center;">
PFC..34
</th>
<th style="text-align:center;">
PFC..35
</th>
<th style="text-align:center;">
PFC..36
</th>
<th style="text-align:center;">
PFC..37
</th>
<th style="text-align:center;">
PFC..38
</th>
<th style="text-align:center;">
PFC..39
</th>
<th style="text-align:center;">
PFC..40
</th>
<th style="text-align:center;">
PFC..41
</th>
<th style="text-align:center;">
PFC..42
</th>
<th style="text-align:center;">
PFC..43
</th>
<th style="text-align:center;">
PFC..44
</th>
<th style="text-align:center;">
PFC..45
</th>
<th style="text-align:center;">
PFC..46
</th>
<th style="text-align:center;">
PFC..47
</th>
<th style="text-align:center;">
PFC..48
</th>
<th style="text-align:center;">
PFC..49
</th>
<th style="text-align:center;">
PFC..50
</th>
<th style="text-align:center;">
PFC..51
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
6943.4
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
7294.9
</td>
<td style="text-align:center;">
7294.9
</td>
<td style="text-align:center;">
7294.9
</td>
<td style="text-align:center;">
7382.8
</td>
<td style="text-align:center;">
7470.7
</td>
<td style="text-align:center;">
7646.5
</td>
<td style="text-align:center;">
5185.5
</td>
<td style="text-align:center;">
5273.4
</td>
<td style="text-align:center;">
5361.3
</td>
<td style="text-align:center;">
5449.2
</td>
<td style="text-align:center;">
5449.2
</td>
<td style="text-align:center;">
5537.1
</td>
<td style="text-align:center;">
5537.1
</td>
<td style="text-align:center;">
5712.9
</td>
<td style="text-align:center;">
6416.0
</td>
<td style="text-align:center;">
6591.8
</td>
<td style="text-align:center;">
6591.8
</td>
<td style="text-align:center;">
5976.6
</td>
<td style="text-align:center;">
6503.9
</td>
<td style="text-align:center;">
5712.9
</td>
<td style="text-align:center;">
6416.0
</td>
<td style="text-align:center;">
6240.2
</td>
<td style="text-align:center;">
5976.6
</td>
<td style="text-align:center;">
6328.1
</td>
<td style="text-align:center;">
5185.5
</td>
<td style="text-align:center;">
5009.8
</td>
<td style="text-align:center;">
4658.2
</td>
<td style="text-align:center;">
4306.6
</td>
<td style="text-align:center;">
3955.1
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
6855.5
</td>
<td style="text-align:center;">
6767.6
</td>
<td style="text-align:center;">
6767.6
</td>
<td style="text-align:center;">
6855.5
</td>
<td style="text-align:center;">
6943.4
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7031.2
</td>
<td style="text-align:center;">
6943.4
</td>
<td style="text-align:center;">
6591.8
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
7119.1
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
6767.6
</td>
<td style="text-align:center;">
6943.4
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7294.9
</td>
<td style="text-align:center;">
7382.8
</td>
<td style="text-align:center;">
7470.7
</td>
<td style="text-align:center;">
7558.6
</td>
<td style="text-align:center;">
7558.6
</td>
<td style="text-align:center;">
7646.5
</td>
<td style="text-align:center;">
5185.5
</td>
<td style="text-align:center;">
5361.3
</td>
<td style="text-align:center;">
5537.1
</td>
<td style="text-align:center;">
8261.7
</td>
<td style="text-align:center;">
8261.7
</td>
<td style="text-align:center;">
8349.6
</td>
<td style="text-align:center;">
5800.8
</td>
<td style="text-align:center;">
6152.3
</td>
<td style="text-align:center;">
6591.8
</td>
<td style="text-align:center;">
6679.7
</td>
<td style="text-align:center;">
5888.7
</td>
<td style="text-align:center;">
6416.0
</td>
<td style="text-align:center;">
5625.0
</td>
<td style="text-align:center;">
6152.3
</td>
<td style="text-align:center;">
5976.6
</td>
<td style="text-align:center;">
5976.6
</td>
<td style="text-align:center;">
5976.6
</td>
<td style="text-align:center;">
5273.4
</td>
<td style="text-align:center;">
5273.4
</td>
<td style="text-align:center;">
4570.3
</td>
<td style="text-align:center;">
4306.6
</td>
<td style="text-align:center;">
3867.2
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
6855.5
</td>
<td style="text-align:center;">
6855.5
</td>
<td style="text-align:center;">
6855.5
</td>
<td style="text-align:center;">
6943.4
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
6943.4
</td>
<td style="text-align:center;">
4746.1
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
4834.0
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
4921.9
</td>
<td style="text-align:center;">
4921.9
</td>
<td style="text-align:center;">
7558.6
</td>
<td style="text-align:center;">
7646.5
</td>
<td style="text-align:center;">
7734.4
</td>
<td style="text-align:center;">
7998.0
</td>
<td style="text-align:center;">
8085.9
</td>
<td style="text-align:center;">
5449.2
</td>
<td style="text-align:center;">
8085.9
</td>
<td style="text-align:center;">
8349.6
</td>
<td style="text-align:center;">
7998.0
</td>
<td style="text-align:center;">
8701.2
</td>
<td style="text-align:center;">
6503.9
</td>
<td style="text-align:center;">
6591.8
</td>
<td style="text-align:center;">
5800.8
</td>
<td style="text-align:center;">
6503.9
</td>
<td style="text-align:center;">
6503.9
</td>
<td style="text-align:center;">
6328.1
</td>
<td style="text-align:center;">
6416.0
</td>
<td style="text-align:center;">
5449.2
</td>
<td style="text-align:center;">
6152.3
</td>
<td style="text-align:center;">
5361.3
</td>
<td style="text-align:center;">
5273.4
</td>
<td style="text-align:center;">
4921.9
</td>
<td style="text-align:center;">
4482.4
</td>
<td style="text-align:center;">
4130.9
</td>
<td style="text-align:center;">
3779.3
</td>
<td style="text-align:center;">
6943.4
</td>
<td style="text-align:center;">
6767.6
</td>
<td style="text-align:center;">
6767.6
</td>
<td style="text-align:center;">
6767.6
</td>
<td style="text-align:center;">
6943.4
</td>
<td style="text-align:center;">
7031.2
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
7031.2
</td>
<td style="text-align:center;">
7294.9
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7031.2
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7031.2
</td>
<td style="text-align:center;">
7031.2
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7119.1
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long2.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
5888.7
</td>
<td style="text-align:center;">
6503.9
</td>
<td style="text-align:center;">
4570.3
</td>
<td style="text-align:center;">
4834.0
</td>
<td style="text-align:center;">
5185.5
</td>
<td style="text-align:center;">
5537.1
</td>
<td style="text-align:center;">
5537.1
</td>
<td style="text-align:center;">
5800.8
</td>
<td style="text-align:center;">
6503.9
</td>
<td style="text-align:center;">
3779.3
</td>
<td style="text-align:center;">
6240.2
</td>
<td style="text-align:center;">
6328.1
</td>
<td style="text-align:center;">
6416.0
</td>
<td style="text-align:center;">
6591.8
</td>
<td style="text-align:center;">
5273.4
</td>
<td style="text-align:center;">
5712.9
</td>
<td style="text-align:center;">
4921.9
</td>
<td style="text-align:center;">
7382.8
</td>
<td style="text-align:center;">
6064.5
</td>
<td style="text-align:center;">
6767.6
</td>
<td style="text-align:center;">
7646.5
</td>
<td style="text-align:center;">
5800.8
</td>
<td style="text-align:center;">
7470.7
</td>
<td style="text-align:center;">
7294.9
</td>
<td style="text-align:center;">
7382.8
</td>
<td style="text-align:center;">
5537.1
</td>
<td style="text-align:center;">
6152.3
</td>
<td style="text-align:center;">
6416.0
</td>
<td style="text-align:center;">
5888.7
</td>
<td style="text-align:center;">
7558.6
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
7294.9
</td>
<td style="text-align:center;">
6591.8
</td>
<td style="text-align:center;">
7822.3
</td>
<td style="text-align:center;">
7822.3
</td>
<td style="text-align:center;">
5976.6
</td>
<td style="text-align:center;">
6064.5
</td>
<td style="text-align:center;">
6152.3
</td>
<td style="text-align:center;">
6152.3
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long2.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
4570.3
</td>
<td style="text-align:center;">
4746.1
</td>
<td style="text-align:center;">
4921.9
</td>
<td style="text-align:center;">
5097.7
</td>
<td style="text-align:center;">
5097.7
</td>
<td style="text-align:center;">
5185.5
</td>
<td style="text-align:center;">
5800.8
</td>
<td style="text-align:center;">
5712.9
</td>
<td style="text-align:center;">
5888.7
</td>
<td style="text-align:center;">
5976.6
</td>
<td style="text-align:center;">
6064.5
</td>
<td style="text-align:center;">
6064.5
</td>
<td style="text-align:center;">
4570.3
</td>
<td style="text-align:center;">
6855.5
</td>
<td style="text-align:center;">
6855.5
</td>
<td style="text-align:center;">
5976.6
</td>
<td style="text-align:center;">
6855.5
</td>
<td style="text-align:center;">
6679.7
</td>
<td style="text-align:center;">
6328.1
</td>
<td style="text-align:center;">
7646.5
</td>
<td style="text-align:center;">
5712.9
</td>
<td style="text-align:center;">
7207.0
</td>
<td style="text-align:center;">
6679.7
</td>
<td style="text-align:center;">
6591.8
</td>
<td style="text-align:center;">
6240.2
</td>
<td style="text-align:center;">
6855.5
</td>
<td style="text-align:center;">
6943.4
</td>
<td style="text-align:center;">
6416.0
</td>
<td style="text-align:center;">
6943.4
</td>
<td style="text-align:center;">
6591.8
</td>
<td style="text-align:center;">
6503.9
</td>
<td style="text-align:center;">
6416.0
</td>
<td style="text-align:center;">
7558.6
</td>
<td style="text-align:center;">
6591.8
</td>
<td style="text-align:center;">
5712.9
</td>
<td style="text-align:center;">
6591.8
</td>
<td style="text-align:center;">
5537.1
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long3.wav
</td>
<td style="text-align:center;">
6
</td>
<td style="text-align:center;">
4218.8
</td>
<td style="text-align:center;">
6240.2
</td>
<td style="text-align:center;">
6591.8
</td>
<td style="text-align:center;">
6679.7
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
5009.8
</td>
<td style="text-align:center;">
5800.8
</td>
<td style="text-align:center;">
6240.2
</td>
<td style="text-align:center;">
6767.6
</td>
<td style="text-align:center;">
6416.0
</td>
<td style="text-align:center;">
6328.1
</td>
<td style="text-align:center;">
6328.1
</td>
<td style="text-align:center;">
6503.9
</td>
<td style="text-align:center;">
6679.7
</td>
<td style="text-align:center;">
6591.8
</td>
<td style="text-align:center;">
5537.1
</td>
<td style="text-align:center;">
6679.7
</td>
<td style="text-align:center;">
6679.7
</td>
<td style="text-align:center;">
6591.8
</td>
<td style="text-align:center;">
6943.4
</td>
<td style="text-align:center;">
5976.6
</td>
<td style="text-align:center;">
6591.8
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
6767.6
</td>
<td style="text-align:center;">
7470.7
</td>
<td style="text-align:center;">
6416.0
</td>
<td style="text-align:center;">
7470.7
</td>
<td style="text-align:center;">
6591.8
</td>
<td style="text-align:center;">
7998.0
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
7910.2
</td>
<td style="text-align:center;">
7031.2
</td>
<td style="text-align:center;">
6943.4
</td>
<td style="text-align:center;">
7470.7
</td>
<td style="text-align:center;">
6943.4
</td>
<td style="text-align:center;">
7734.4
</td>
<td style="text-align:center;">
7119.1
</td>
<td style="text-align:center;">
7822.3
</td>
<td style="text-align:center;">
6416.0
</td>
<td style="text-align:center;">
6855.5
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
</tbody>
</table>
</div>
<p> </p>
<p>Note that these sequences are not all of equal length (one has NAs at the end). <code>extract_ts</code> can also interpolate values so all time series have the same length:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="co"># Peak freq contour equal length</span></a>
<a class="sourceLine" id="cb13-2" data-line-number="2">fcts &lt;-<span class="st"> </span><span class="kw"><a href="../reference/extract_ts.html">extract_ts</a></span>(<span class="dt">X =</span> rvn.dat, <span class="dt">ts.column =</span> <span class="st">"Peak Freq Contour (Hz)"</span>,  <span class="dt">equal.length =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb13-3" data-line-number="3"></a>
<a class="sourceLine" id="cb13-4" data-line-number="4"><span class="co">#look at the last rows wit no NAs</span></a>
<a class="sourceLine" id="cb13-5" data-line-number="5"><span class="kw">head</span>(fcts)</a></code></pre></div>
<div style="border: 1px solid #ddd; padding: 5px; overflow-x: scroll; width:808px; ">
<table class="table" style="font-size: 11px; width: auto !important; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:center;">
sound.files
</th>
<th style="text-align:center;">
selec
</th>
<th style="text-align:center;">
PFC..1
</th>
<th style="text-align:center;">
PFC..2
</th>
<th style="text-align:center;">
PFC..3
</th>
<th style="text-align:center;">
PFC..4
</th>
<th style="text-align:center;">
PFC..5
</th>
<th style="text-align:center;">
PFC..6
</th>
<th style="text-align:center;">
PFC..7
</th>
<th style="text-align:center;">
PFC..8
</th>
<th style="text-align:center;">
PFC..9
</th>
<th style="text-align:center;">
PFC..10
</th>
<th style="text-align:center;">
PFC..11
</th>
<th style="text-align:center;">
PFC..12
</th>
<th style="text-align:center;">
PFC..13
</th>
<th style="text-align:center;">
PFC..14
</th>
<th style="text-align:center;">
PFC..15
</th>
<th style="text-align:center;">
PFC..16
</th>
<th style="text-align:center;">
PFC..17
</th>
<th style="text-align:center;">
PFC..18
</th>
<th style="text-align:center;">
PFC..19
</th>
<th style="text-align:center;">
PFC..20
</th>
<th style="text-align:center;">
PFC..21
</th>
<th style="text-align:center;">
PFC..22
</th>
<th style="text-align:center;">
PFC..23
</th>
<th style="text-align:center;">
PFC..24
</th>
<th style="text-align:center;">
PFC..25
</th>
<th style="text-align:center;">
PFC..26
</th>
<th style="text-align:center;">
PFC..27
</th>
<th style="text-align:center;">
PFC..28
</th>
<th style="text-align:center;">
PFC..29
</th>
<th style="text-align:center;">
PFC..30
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
6943.4
</td>
<td style="text-align:center;">
7246.403
</td>
<td style="text-align:center;">
7294.900
</td>
<td style="text-align:center;">
7397.955
</td>
<td style="text-align:center;">
7628.314
</td>
<td style="text-align:center;">
5240.059
</td>
<td style="text-align:center;">
5391.610
</td>
<td style="text-align:center;">
5455.262
</td>
<td style="text-align:center;">
5537.100
</td>
<td style="text-align:center;">
6076.572
</td>
<td style="text-align:center;">
6591.800
</td>
<td style="text-align:center;">
5997.814
</td>
<td style="text-align:center;">
5958.383
</td>
<td style="text-align:center;">
6343.255
</td>
<td style="text-align:center;">
6025.083
</td>
<td style="text-align:center;">
5343.100
</td>
<td style="text-align:center;">
4803.690
</td>
<td style="text-align:center;">
4197.514
</td>
<td style="text-align:center;">
7110.010
</td>
<td style="text-align:center;">
6788.817
</td>
<td style="text-align:center;">
6810.034
</td>
<td style="text-align:center;">
6979.752
</td>
<td style="text-align:center;">
7200.938
</td>
<td style="text-align:center;">
7207.000
</td>
<td style="text-align:center;">
6997.897
</td>
<td style="text-align:center;">
6646.348
</td>
<td style="text-align:center;">
7119.100
</td>
<td style="text-align:center;">
7158.503
</td>
<td style="text-align:center;">
7182.752
</td>
<td style="text-align:center;">
7119.1
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
6767.6
</td>
<td style="text-align:center;">
7107.014
</td>
<td style="text-align:center;">
7228.217
</td>
<td style="text-align:center;">
7370.676
</td>
<td style="text-align:center;">
7513.134
</td>
<td style="text-align:center;">
7567.693
</td>
<td style="text-align:center;">
5864.397
</td>
<td style="text-align:center;">
5421.921
</td>
<td style="text-align:center;">
8167.748
</td>
<td style="text-align:center;">
8313.228
</td>
<td style="text-align:center;">
5873.524
</td>
<td style="text-align:center;">
6516.024
</td>
<td style="text-align:center;">
6325.114
</td>
<td style="text-align:center;">
6361.448
</td>
<td style="text-align:center;">
5988.655
</td>
<td style="text-align:center;">
5976.600
</td>
<td style="text-align:center;">
5976.600
</td>
<td style="text-align:center;">
5273.400
</td>
<td style="text-align:center;">
4524.834
</td>
<td style="text-align:center;">
3958.110
</td>
<td style="text-align:center;">
7010.024
</td>
<td style="text-align:center;">
6855.500
</td>
<td style="text-align:center;">
6913.090
</td>
<td style="text-align:center;">
7143.348
</td>
<td style="text-align:center;">
7207.000
</td>
<td style="text-align:center;">
7207.000
</td>
<td style="text-align:center;">
7194.876
</td>
<td style="text-align:center;">
7119.100
</td>
<td style="text-align:center;">
7173.659
</td>
<td style="text-align:center;">
7207.0
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
6943.4
</td>
<td style="text-align:center;">
6464.479
</td>
<td style="text-align:center;">
5897.759
</td>
<td style="text-align:center;">
4921.900
</td>
<td style="text-align:center;">
7285.838
</td>
<td style="text-align:center;">
7701.059
</td>
<td style="text-align:center;">
8028.310
</td>
<td style="text-align:center;">
5631.041
</td>
<td style="text-align:center;">
8295.041
</td>
<td style="text-align:center;">
8361.724
</td>
<td style="text-align:center;">
6525.117
</td>
<td style="text-align:center;">
5828.076
</td>
<td style="text-align:center;">
6503.900
</td>
<td style="text-align:center;">
6364.472
</td>
<td style="text-align:center;">
5546.179
</td>
<td style="text-align:center;">
5470.403
</td>
<td style="text-align:center;">
5067.348
</td>
<td style="text-align:center;">
4373.314
</td>
<td style="text-align:center;">
3888.407
</td>
<td style="text-align:center;">
6810.034
</td>
<td style="text-align:center;">
6767.600
</td>
<td style="text-align:center;">
6961.566
</td>
<td style="text-align:center;">
7113.038
</td>
<td style="text-align:center;">
7203.969
</td>
<td style="text-align:center;">
7207.000
</td>
<td style="text-align:center;">
7049.386
</td>
<td style="text-align:center;">
7061.510
</td>
<td style="text-align:center;">
7079.697
</td>
<td style="text-align:center;">
7143.348
</td>
<td style="text-align:center;">
7119.1
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long2.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
5888.7
</td>
<td style="text-align:center;">
5903.817
</td>
<td style="text-align:center;">
4733.976
</td>
<td style="text-align:center;">
5161.259
</td>
<td style="text-align:center;">
5537.100
</td>
<td style="text-align:center;">
5682.590
</td>
<td style="text-align:center;">
6406.921
</td>
<td style="text-align:center;">
4203.593
</td>
<td style="text-align:center;">
6282.634
</td>
<td style="text-align:center;">
6397.814
</td>
<td style="text-align:center;">
6455.414
</td>
<td style="text-align:center;">
5455.262
</td>
<td style="text-align:center;">
5140.107
</td>
<td style="text-align:center;">
7337.341
</td>
<td style="text-align:center;">
6306.948
</td>
<td style="text-align:center;">
7343.431
</td>
<td style="text-align:center;">
5864.445
</td>
<td style="text-align:center;">
7422.203
</td>
<td style="text-align:center;">
7346.428
</td>
<td style="text-align:center;">
5728.034
</td>
<td style="text-align:center;">
6206.859
</td>
<td style="text-align:center;">
6143.259
</td>
<td style="text-align:center;">
7270.686
</td>
<td style="text-align:center;">
7219.124
</td>
<td style="text-align:center;">
6979.717
</td>
<td style="text-align:center;">
7525.283
</td>
<td style="text-align:center;">
7695.010
</td>
<td style="text-align:center;">
6009.941
</td>
<td style="text-align:center;">
6125.052
</td>
<td style="text-align:center;">
6152.3
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long2.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
4570.3
</td>
<td style="text-align:center;">
4788.534
</td>
<td style="text-align:center;">
5006.769
</td>
<td style="text-align:center;">
5097.700
</td>
<td style="text-align:center;">
5182.472
</td>
<td style="text-align:center;">
5782.614
</td>
<td style="text-align:center;">
5791.707
</td>
<td style="text-align:center;">
5949.321
</td>
<td style="text-align:center;">
6058.438
</td>
<td style="text-align:center;">
5806.879
</td>
<td style="text-align:center;">
5515.900
</td>
<td style="text-align:center;">
6855.500
</td>
<td style="text-align:center;">
6067.521
</td>
<td style="text-align:center;">
6831.252
</td>
<td style="text-align:center;">
6546.334
</td>
<td style="text-align:center;">
7146.417
</td>
<td style="text-align:center;">
5979.603
</td>
<td style="text-align:center;">
7152.452
</td>
<td style="text-align:center;">
6649.390
</td>
<td style="text-align:center;">
6385.690
</td>
<td style="text-align:center;">
6749.414
</td>
<td style="text-align:center;">
6907.028
</td>
<td style="text-align:center;">
6579.676
</td>
<td style="text-align:center;">
6749.414
</td>
<td style="text-align:center;">
6522.086
</td>
<td style="text-align:center;">
6455.400
</td>
<td style="text-align:center;">
7291.897
</td>
<td style="text-align:center;">
6137.197
</td>
<td style="text-align:center;">
6379.652
</td>
<td style="text-align:center;">
5537.1
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long3.wav
</td>
<td style="text-align:center;">
6
</td>
<td style="text-align:center;">
4218.8
</td>
<td style="text-align:center;">
6361.441
</td>
<td style="text-align:center;">
6652.421
</td>
<td style="text-align:center;">
7046.366
</td>
<td style="text-align:center;">
5309.834
</td>
<td style="text-align:center;">
6118.986
</td>
<td style="text-align:center;">
6743.352
</td>
<td style="text-align:center;">
6379.628
</td>
<td style="text-align:center;">
6328.100
</td>
<td style="text-align:center;">
6522.086
</td>
<td style="text-align:center;">
6640.297
</td>
<td style="text-align:center;">
5755.314
</td>
<td style="text-align:center;">
6679.700
</td>
<td style="text-align:center;">
6637.266
</td>
<td style="text-align:center;">
6882.779
</td>
<td style="text-align:center;">
6082.669
</td>
<td style="text-align:center;">
6864.541
</td>
<td style="text-align:center;">
6816.083
</td>
<td style="text-align:center;">
7252.486
</td>
<td style="text-align:center;">
6997.903
</td>
<td style="text-align:center;">
6682.721
</td>
<td style="text-align:center;">
7785.852
</td>
<td style="text-align:center;">
7582.848
</td>
<td style="text-align:center;">
7091.821
</td>
<td style="text-align:center;">
7088.862
</td>
<td style="text-align:center;">
7143.410
</td>
<td style="text-align:center;">
7707.124
</td>
<td style="text-align:center;">
7337.334
</td>
<td style="text-align:center;">
6900.931
</td>
<td style="text-align:center;">
6855.5
</td>
</tr>
</tbody>
</table>
</div>
<p> </p>
<p>And the length of the series can also be specified:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="co"># Peak freq contour equal length 10 measurements</span></a>
<a class="sourceLine" id="cb14-2" data-line-number="2">fcts &lt;-<span class="st"> </span><span class="kw"><a href="../reference/extract_ts.html">extract_ts</a></span>(<span class="dt">X =</span> rvn.dat, <span class="dt">ts.column =</span> <span class="st">"Peak Freq Contour (Hz)"</span>,</a>
<a class="sourceLine" id="cb14-3" data-line-number="3"><span class="dt">equal.length =</span> T, <span class="dt">length.out =</span> <span class="dv">10</span>)  </a>
<a class="sourceLine" id="cb14-4" data-line-number="4"></a>
<a class="sourceLine" id="cb14-5" data-line-number="5"><span class="kw">head</span>(fcts)</a></code></pre></div>
<table class="table" style="font-size: 14px; width: auto !important; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:center;">
sound.files
</th>
<th style="text-align:center;">
selec
</th>
<th style="text-align:center;">
PFC..1
</th>
<th style="text-align:center;">
PFC..2
</th>
<th style="text-align:center;">
PFC..3
</th>
<th style="text-align:center;">
PFC..4
</th>
<th style="text-align:center;">
PFC..5
</th>
<th style="text-align:center;">
PFC..6
</th>
<th style="text-align:center;">
PFC..7
</th>
<th style="text-align:center;">
PFC..8
</th>
<th style="text-align:center;">
PFC..9
</th>
<th style="text-align:center;">
PFC..10
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
6943.4
</td>
<td style="text-align:center;">
7431.633
</td>
<td style="text-align:center;">
5449.200
</td>
<td style="text-align:center;">
6533.200
</td>
<td style="text-align:center;">
6376.933
</td>
<td style="text-align:center;">
4736.333
</td>
<td style="text-align:center;">
6767.600
</td>
<td style="text-align:center;">
7207.000
</td>
<td style="text-align:center;">
7119.100
</td>
<td style="text-align:center;">
7119.1
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
6767.6
</td>
<td style="text-align:center;">
7402.333
</td>
<td style="text-align:center;">
5263.633
</td>
<td style="text-align:center;">
6650.400
</td>
<td style="text-align:center;">
6357.411
</td>
<td style="text-align:center;">
5898.467
</td>
<td style="text-align:center;">
4951.167
</td>
<td style="text-align:center;">
7041.011
</td>
<td style="text-align:center;">
7207.000
</td>
<td style="text-align:center;">
7207.0
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long1.wav
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
6943.4
</td>
<td style="text-align:center;">
4921.900
</td>
<td style="text-align:center;">
7792.933
</td>
<td style="text-align:center;">
7236.333
</td>
<td style="text-align:center;">
6347.633
</td>
<td style="text-align:center;">
5000.011
</td>
<td style="text-align:center;">
6767.600
</td>
<td style="text-align:center;">
7040.967
</td>
<td style="text-align:center;">
7128.867
</td>
<td style="text-align:center;">
7119.1
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long2.wav
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
5888.7
</td>
<td style="text-align:center;">
5263.633
</td>
<td style="text-align:center;">
5292.967
</td>
<td style="text-align:center;">
6533.200
</td>
<td style="text-align:center;">
7109.367
</td>
<td style="text-align:center;">
5986.344
</td>
<td style="text-align:center;">
5742.167
</td>
<td style="text-align:center;">
7363.267
</td>
<td style="text-align:center;">
7822.300
</td>
<td style="text-align:center;">
6152.3
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long2.wav
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
4570.3
</td>
<td style="text-align:center;">
5097.700
</td>
<td style="text-align:center;">
5888.700
</td>
<td style="text-align:center;">
4570.300
</td>
<td style="text-align:center;">
6855.500
</td>
<td style="text-align:center;">
5712.900
</td>
<td style="text-align:center;">
6240.200
</td>
<td style="text-align:center;">
6943.400
</td>
<td style="text-align:center;">
7558.600
</td>
<td style="text-align:center;">
5537.1
</td>
</tr>
<tr>
<td style="text-align:center;">
Phae.long3.wav
</td>
<td style="text-align:center;">
6
</td>
<td style="text-align:center;">
4218.8
</td>
<td style="text-align:center;">
6416.000
</td>
<td style="text-align:center;">
6533.200
</td>
<td style="text-align:center;">
6679.700
</td>
<td style="text-align:center;">
6650.400
</td>
<td style="text-align:center;">
6943.333
</td>
<td style="text-align:center;">
7470.700
</td>
<td style="text-align:center;">
7617.200
</td>
<td style="text-align:center;">
7470.733
</td>
<td style="text-align:center;">
6855.5
</td>
</tr>
</tbody>
</table>
<p> </p>
<p>The time series data frame can be directly input into the <code>dfDTW</code> <a href="https://cran.r-project.org/package=warbleR">warbleR</a> function to calculate <a href="https://en.wikipedia.org/wiki/Dynamic_time_warping">Dynamic Time Warping</a> distances:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="kw"><a href="http://www.rdocumentation.org/packages/warbleR/topics/dfDTW">dfDTW</a></span>(<span class="dt">ts.df =</span> fcts)</a></code></pre></div>
<p> </p>
<div style="border: 1px solid #ddd; padding: 5px; overflow-y: scroll; height:500px; overflow-x: scroll; width:808px; ">
<table class="table" style="font-size: 12px; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
</th>
<th style="text-align:center;">
Phae.long1.wav-1
</th>
<th style="text-align:center;">
Phae.long1.wav-2
</th>
<th style="text-align:center;">
Phae.long1.wav-3
</th>
<th style="text-align:center;">
Phae.long2.wav-4
</th>
<th style="text-align:center;">
Phae.long2.wav-5
</th>
<th style="text-align:center;">
Phae.long3.wav-6
</th>
<th style="text-align:center;">
Phae.long3.wav-7
</th>
<th style="text-align:center;">
Phae.long3.wav-8
</th>
<th style="text-align:center;">
Phae.long4.wav-9
</th>
<th style="text-align:center;">
Phae.long4.wav-10
</th>
<th style="text-align:center;">
Phae.long4.wav-11
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Phae.long1.wav-1
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
2509.733
</td>
<td style="text-align:center;">
5702.989
</td>
<td style="text-align:center;">
9541.189
</td>
<td style="text-align:center;">
12411.933
</td>
<td style="text-align:center;">
9648.400
</td>
<td style="text-align:center;">
7207.000
</td>
<td style="text-align:center;">
7343.822
</td>
<td style="text-align:center;">
13740.278
</td>
<td style="text-align:center;">
11455.400
</td>
<td style="text-align:center;">
14970.644
</td>
</tr>
<tr>
<td style="text-align:left;">
Phae.long1.wav-2
</td>
<td style="text-align:center;">
2509.733
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
5624.778
</td>
<td style="text-align:center;">
7334.111
</td>
<td style="text-align:center;">
12333.711
</td>
<td style="text-align:center;">
10058.778
</td>
<td style="text-align:center;">
7255.633
</td>
<td style="text-align:center;">
7734.489
</td>
<td style="text-align:center;">
14257.911
</td>
<td style="text-align:center;">
10908.222
</td>
<td style="text-align:center;">
15107.311
</td>
</tr>
<tr>
<td style="text-align:left;">
Phae.long1.wav-3
</td>
<td style="text-align:center;">
5702.989
</td>
<td style="text-align:center;">
5624.778
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
10615.033
</td>
<td style="text-align:center;">
11620.856
</td>
<td style="text-align:center;">
11044.989
</td>
<td style="text-align:center;">
8046.644
</td>
<td style="text-align:center;">
7675.456
</td>
<td style="text-align:center;">
15077.767
</td>
<td style="text-align:center;">
13476.378
</td>
<td style="text-align:center;">
14696.922
</td>
</tr>
<tr>
<td style="text-align:left;">
Phae.long2.wav-4
</td>
<td style="text-align:center;">
9541.189
</td>
<td style="text-align:center;">
7334.111
</td>
<td style="text-align:center;">
10615.033
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
7665.756
</td>
<td style="text-align:center;">
9111.456
</td>
<td style="text-align:center;">
7587.778
</td>
<td style="text-align:center;">
7109.267
</td>
<td style="text-align:center;">
11318.256
</td>
<td style="text-align:center;">
10683.489
</td>
<td style="text-align:center;">
11572.133
</td>
</tr>
<tr>
<td style="text-align:left;">
Phae.long2.wav-5
</td>
<td style="text-align:center;">
12411.933
</td>
<td style="text-align:center;">
12333.711
</td>
<td style="text-align:center;">
11620.856
</td>
<td style="text-align:center;">
7665.756
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
8466.933
</td>
<td style="text-align:center;">
9160.356
</td>
<td style="text-align:center;">
8339.722
</td>
<td style="text-align:center;">
10839.778
</td>
<td style="text-align:center;">
13535.000
</td>
<td style="text-align:center;">
9902.211
</td>
</tr>
<tr>
<td style="text-align:left;">
Phae.long3.wav-6
</td>
<td style="text-align:center;">
9648.400
</td>
<td style="text-align:center;">
10058.778
</td>
<td style="text-align:center;">
11044.989
</td>
<td style="text-align:center;">
9111.456
</td>
<td style="text-align:center;">
8466.933
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
6464.633
</td>
<td style="text-align:center;">
6425.533
</td>
<td style="text-align:center;">
16122.967
</td>
<td style="text-align:center;">
15234.567
</td>
<td style="text-align:center;">
14413.978
</td>
</tr>
<tr>
<td style="text-align:left;">
Phae.long3.wav-7
</td>
<td style="text-align:center;">
7207.000
</td>
<td style="text-align:center;">
7255.633
</td>
<td style="text-align:center;">
8046.644
</td>
<td style="text-align:center;">
7587.778
</td>
<td style="text-align:center;">
9160.356
</td>
<td style="text-align:center;">
6464.633
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
4882.822
</td>
<td style="text-align:center;">
13144.400
</td>
<td style="text-align:center;">
11689.300
</td>
<td style="text-align:center;">
13095.311
</td>
</tr>
<tr>
<td style="text-align:left;">
Phae.long3.wav-8
</td>
<td style="text-align:center;">
7343.822
</td>
<td style="text-align:center;">
7734.489
</td>
<td style="text-align:center;">
7675.456
</td>
<td style="text-align:center;">
7109.267
</td>
<td style="text-align:center;">
8339.722
</td>
<td style="text-align:center;">
6425.533
</td>
<td style="text-align:center;">
4882.822
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
13711.033
</td>
<td style="text-align:center;">
13144.478
</td>
<td style="text-align:center;">
13515.511
</td>
</tr>
<tr>
<td style="text-align:left;">
Phae.long4.wav-9
</td>
<td style="text-align:center;">
13740.278
</td>
<td style="text-align:center;">
14257.911
</td>
<td style="text-align:center;">
15077.767
</td>
<td style="text-align:center;">
11318.256
</td>
<td style="text-align:center;">
10839.778
</td>
<td style="text-align:center;">
16122.967
</td>
<td style="text-align:center;">
13144.400
</td>
<td style="text-align:center;">
13711.033
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
10517.489
</td>
<td style="text-align:center;">
9424.156
</td>
</tr>
<tr>
<td style="text-align:left;">
Phae.long4.wav-10
</td>
<td style="text-align:center;">
11455.400
</td>
<td style="text-align:center;">
10908.222
</td>
<td style="text-align:center;">
13476.378
</td>
<td style="text-align:center;">
10683.489
</td>
<td style="text-align:center;">
13535.000
</td>
<td style="text-align:center;">
15234.567
</td>
<td style="text-align:center;">
11689.300
</td>
<td style="text-align:center;">
13144.478
</td>
<td style="text-align:center;">
10517.489
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
9725.811
</td>
</tr>
<tr>
<td style="text-align:left;">
Phae.long4.wav-11
</td>
<td style="text-align:center;">
14970.644
</td>
<td style="text-align:center;">
15107.311
</td>
<td style="text-align:center;">
14696.922
</td>
<td style="text-align:center;">
11572.133
</td>
<td style="text-align:center;">
9902.211
</td>
<td style="text-align:center;">
14413.978
</td>
<td style="text-align:center;">
13095.311
</td>
<td style="text-align:center;">
13515.511
</td>
<td style="text-align:center;">
9424.156
</td>
<td style="text-align:center;">
9725.811
</td>
<td style="text-align:center;">
0.000
</td>
</tr>
</tbody>
</table>
</div>
<hr>
</div>
<div id="relabel_colms" class="section level3">
<h3 class="hasAnchor">
<a href="#relabel_colms" class="anchor"></a><em>relabel_colms</em>
</h3>
<p>This is a simple function to relabel columns so they match the selection table format used in <a href="https://cran.r-project.org/package=warbleR">warbleR</a>:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="co">#to simplify the example select a subset of the columns </span></a>
<a class="sourceLine" id="cb16-2" data-line-number="2">st1 &lt;-<span class="st"> </span>rvn.dat[ ,<span class="dv">1</span><span class="op">:</span><span class="dv">7</span>]</a>
<a class="sourceLine" id="cb16-3" data-line-number="3"></a>
<a class="sourceLine" id="cb16-4" data-line-number="4"><span class="co">#check original column names</span></a>
<a class="sourceLine" id="cb16-5" data-line-number="5">st1</a></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="co"># Relabel the basic columns required by warbleR</span></a>
<a class="sourceLine" id="cb17-2" data-line-number="2"><span class="kw"><a href="../reference/relabel_colms.html">relabel_colms</a></span>(st1)</a></code></pre></div>
<p> </p>
<p>Additional columns can also be relabeled:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="co"># 2 additional column </span></a>
<a class="sourceLine" id="cb18-2" data-line-number="2"><span class="kw"><a href="../reference/relabel_colms.html">relabel_colms</a></span>(st1, <span class="dt">extra.cols.name =</span> <span class="st">"View"</span>,</a>
<a class="sourceLine" id="cb18-3" data-line-number="3">              <span class="dt">extra.cols.new.name =</span> <span class="st">"Raven view"</span>)</a></code></pre></div>
<table class="table" style="font-size: 14px; width: auto !important; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:center;">
selec
</th>
<th style="text-align:center;">
Raven view
</th>
<th style="text-align:center;">
Channel
</th>
<th style="text-align:center;">
start
</th>
<th style="text-align:center;">
end
</th>
<th style="text-align:center;">
bottom.freq
</th>
<th style="text-align:center;">
top.freq
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
Spectrogram 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1.169355
</td>
<td style="text-align:center;">
1.342388
</td>
<td style="text-align:center;">
2220.1
</td>
<td style="text-align:center;">
8604.4
</td>
</tr>
<tr>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
Spectrogram 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
2.158408
</td>
<td style="text-align:center;">
2.321457
</td>
<td style="text-align:center;">
2169.4
</td>
<td style="text-align:center;">
8807.1
</td>
</tr>
<tr>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
Spectrogram 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.343337
</td>
<td style="text-align:center;">
0.518255
</td>
<td style="text-align:center;">
2218.3
</td>
<td style="text-align:center;">
8756.6
</td>
</tr>
<tr>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
Spectrogram 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
2.659643
</td>
<td style="text-align:center;">
2.792214
</td>
<td style="text-align:center;">
2316.9
</td>
<td style="text-align:center;">
8822.3
</td>
</tr>
<tr>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
Spectrogram 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
3.957103
</td>
<td style="text-align:center;">
4.083253
</td>
<td style="text-align:center;">
2284.0
</td>
<td style="text-align:center;">
8888.0
</td>
</tr>
<tr>
<td style="text-align:center;">
6
</td>
<td style="text-align:center;">
Spectrogram 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
4.826641
</td>
<td style="text-align:center;">
4.957860
</td>
<td style="text-align:center;">
3006.8
</td>
<td style="text-align:center;">
8822.3
</td>
</tr>
<tr>
<td style="text-align:center;">
7
</td>
<td style="text-align:center;">
Spectrogram 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
6.174302
</td>
<td style="text-align:center;">
6.304481
</td>
<td style="text-align:center;">
2776.8
</td>
<td style="text-align:center;">
8888.0
</td>
</tr>
<tr>
<td style="text-align:center;">
8
</td>
<td style="text-align:center;">
Spectrogram 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
4.323453
</td>
<td style="text-align:center;">
4.454670
</td>
<td style="text-align:center;">
2316.9
</td>
<td style="text-align:center;">
9315.2
</td>
</tr>
<tr>
<td style="text-align:center;">
9
</td>
<td style="text-align:center;">
Spectrogram 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
7.916900
</td>
<td style="text-align:center;">
8.062325
</td>
<td style="text-align:center;">
2514.0
</td>
<td style="text-align:center;">
9216.6
</td>
</tr>
<tr>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
Spectrogram 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
9.332781
</td>
<td style="text-align:center;">
9.476967
</td>
<td style="text-align:center;">
2579.7
</td>
<td style="text-align:center;">
10235.1
</td>
</tr>
<tr>
<td style="text-align:center;">
11
</td>
<td style="text-align:center;">
Spectrogram 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
6.545487
</td>
<td style="text-align:center;">
6.690585
</td>
<td style="text-align:center;">
2579.7
</td>
<td style="text-align:center;">
9742.3
</td>
</tr>
</tbody>
</table>
<p> </p>
<hr>
</div>
<div id="imp_corr_mat" class="section level3">
<h3 class="hasAnchor">
<a href="#imp_corr_mat" class="anchor"></a><em>imp_corr_mat</em>
</h3>
<p>The function imports the output of a batch correlation routine in <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a>. Both the correlation and lag matrices contained in the output ‘.txt’ file are read and both waveform and spectrogram (cross-correlation) correlations can be imported.</p>
<p>This example shows how to input the sound files into <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a> and how to bring the results back to R. First, the selections need to be cut as single sound files for the <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a> correlator to be able to read it. We can do this using the <code>cut_sels</code> function from <a href="https://cran.r-project.org/package=warbleR">warbleR</a>:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="co">#create new folder to put cuts</span></a>
<a class="sourceLine" id="cb19-2" data-line-number="2"><span class="kw">dir.create</span>(<span class="st">"cuts"</span>)</a>
<a class="sourceLine" id="cb19-3" data-line-number="3"></a>
<a class="sourceLine" id="cb19-4" data-line-number="4"><span class="co"># add a rowname column to be able to match cuts and selections</span></a>
<a class="sourceLine" id="cb19-5" data-line-number="5">selec.table<span class="op">$</span>rownames &lt;-<span class="st"> </span><span class="kw">sprintf</span>(<span class="st">"%02d"</span>,<span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(selec.table))</a>
<a class="sourceLine" id="cb19-6" data-line-number="6"></a>
<a class="sourceLine" id="cb19-7" data-line-number="7"><span class="co"># cut files</span></a>
<a class="sourceLine" id="cb19-8" data-line-number="8"><span class="kw"><a href="http://www.rdocumentation.org/packages/warbleR/topics/cut_sels">cut_sels</a></span>(<span class="dt">X =</span> selec.table, <span class="dt">mar =</span> <span class="fl">0.05</span>, <span class="dt">path =</span> <span class="kw">tempdir</span>(), <span class="dt">dest.path =</span> <span class="kw">file.path</span>(<span class="kw">tempdir</span>(), <span class="st">"cuts"</span>), <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">"rownames"</span>, <span class="st">"sound.files"</span>, <span class="st">"selec"</span>), <span class="dt">pb =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb19-9" data-line-number="9"></a>
<a class="sourceLine" id="cb19-10" data-line-number="10"><span class="co">#list cuts</span></a>
<a class="sourceLine" id="cb19-11" data-line-number="11"><span class="kw">list.files</span>(<span class="dt">path =</span> <span class="kw">file.path</span>(<span class="kw">tempdir</span>(), <span class="st">"cuts"</span>))</a></code></pre></div>
<p> </p>
<p>Every selection is in its own sound file (labeled as <code>paste("rownames", "sound.files", "selec")</code>). Now open <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a> and run the batch correlator on the ‘cuts’ folder as follows:</p>
<p><img src="https://raw.githubusercontent.com/maRce10/Rraven/master/gifs/opt2_short_raven_correlator.gif" alt="gif1">  </p>
<p>And then import the output file into R:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1"><span class="co"># Import output (change the name of the file if you used a different one)</span></a>
<a class="sourceLine" id="cb20-2" data-line-number="2">xcorr.rav &lt;-<span class="st"> </span><span class="kw"><a href="../reference/imp_corr_mat.html">imp_corr_mat</a></span>(<span class="dt">file =</span> <span class="st">"BatchCorrOutput.txt"</span>, <span class="dt">path =</span> <span class="kw">tempdir</span>())</a></code></pre></div>
<p> </p>
<p>The function returns a list containing the correlation matrix:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1">xcorr.rav<span class="op">$</span>correlation</a></code></pre></div>
<p> </p>
<div style="border: 1px solid #ddd; padding: 5px; overflow-y: scroll; height:500px; overflow-x: scroll; width:808px; ">
<table class="table" style="font-size: 12px; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
</th>
<th style="text-align:center;">
01-Phae.long1-1.wav
</th>
<th style="text-align:center;">
10-Phae.long4-2.wav
</th>
<th style="text-align:center;">
11-Phae.long4-3.wav
</th>
<th style="text-align:center;">
07-Phae.long3-2.wav
</th>
<th style="text-align:center;">
05-Phae.long2-2.wav
</th>
<th style="text-align:center;">
09-Phae.long4-1.wav
</th>
<th style="text-align:center;">
04-Phae.long2-1.wav
</th>
<th style="text-align:center;">
02-Phae.long1-2.wav
</th>
<th style="text-align:center;">
06-Phae.long3-1.wav
</th>
<th style="text-align:center;">
03-Phae.long1-3.wav
</th>
<th style="text-align:center;">
08-Phae.long3-3.wav
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
01-Phae.long1-1.wav
</td>
<td style="text-align:center;">
1.000
</td>
<td style="text-align:center;">
0.216
</td>
<td style="text-align:center;">
0.184
</td>
<td style="text-align:center;">
0.285
</td>
<td style="text-align:center;">
0.443
</td>
<td style="text-align:center;">
0.195
</td>
<td style="text-align:center;">
0.145
</td>
<td style="text-align:center;">
0.613
</td>
<td style="text-align:center;">
0.360
</td>
<td style="text-align:center;">
0.812
</td>
<td style="text-align:center;">
0.236
</td>
</tr>
<tr>
<td style="text-align:left;">
10-Phae.long4-2.wav
</td>
<td style="text-align:center;">
0.216
</td>
<td style="text-align:center;">
1.000
</td>
<td style="text-align:center;">
0.781
</td>
<td style="text-align:center;">
0.290
</td>
<td style="text-align:center;">
0.235
</td>
<td style="text-align:center;">
0.907
</td>
<td style="text-align:center;">
0.289
</td>
<td style="text-align:center;">
0.176
</td>
<td style="text-align:center;">
0.204
</td>
<td style="text-align:center;">
0.209
</td>
<td style="text-align:center;">
0.323
</td>
</tr>
<tr>
<td style="text-align:left;">
11-Phae.long4-3.wav
</td>
<td style="text-align:center;">
0.184
</td>
<td style="text-align:center;">
0.781
</td>
<td style="text-align:center;">
1.000
</td>
<td style="text-align:center;">
0.279
</td>
<td style="text-align:center;">
0.186
</td>
<td style="text-align:center;">
0.804
</td>
<td style="text-align:center;">
0.274
</td>
<td style="text-align:center;">
0.127
</td>
<td style="text-align:center;">
0.189
</td>
<td style="text-align:center;">
0.185
</td>
<td style="text-align:center;">
0.393
</td>
</tr>
<tr>
<td style="text-align:left;">
07-Phae.long3-2.wav
</td>
<td style="text-align:center;">
0.285
</td>
<td style="text-align:center;">
0.290
</td>
<td style="text-align:center;">
0.279
</td>
<td style="text-align:center;">
1.000
</td>
<td style="text-align:center;">
0.433
</td>
<td style="text-align:center;">
0.281
</td>
<td style="text-align:center;">
0.270
</td>
<td style="text-align:center;">
0.251
</td>
<td style="text-align:center;">
0.635
</td>
<td style="text-align:center;">
0.274
</td>
<td style="text-align:center;">
0.496
</td>
</tr>
<tr>
<td style="text-align:left;">
05-Phae.long2-2.wav
</td>
<td style="text-align:center;">
0.443
</td>
<td style="text-align:center;">
0.235
</td>
<td style="text-align:center;">
0.186
</td>
<td style="text-align:center;">
0.433
</td>
<td style="text-align:center;">
1.000
</td>
<td style="text-align:center;">
0.197
</td>
<td style="text-align:center;">
0.243
</td>
<td style="text-align:center;">
0.449
</td>
<td style="text-align:center;">
0.397
</td>
<td style="text-align:center;">
0.363
</td>
<td style="text-align:center;">
0.304
</td>
</tr>
<tr>
<td style="text-align:left;">
09-Phae.long4-1.wav
</td>
<td style="text-align:center;">
0.195
</td>
<td style="text-align:center;">
0.907
</td>
<td style="text-align:center;">
0.804
</td>
<td style="text-align:center;">
0.281
</td>
<td style="text-align:center;">
0.197
</td>
<td style="text-align:center;">
1.000
</td>
<td style="text-align:center;">
0.310
</td>
<td style="text-align:center;">
0.164
</td>
<td style="text-align:center;">
0.199
</td>
<td style="text-align:center;">
0.214
</td>
<td style="text-align:center;">
0.322
</td>
</tr>
<tr>
<td style="text-align:left;">
04-Phae.long2-1.wav
</td>
<td style="text-align:center;">
0.145
</td>
<td style="text-align:center;">
0.289
</td>
<td style="text-align:center;">
0.274
</td>
<td style="text-align:center;">
0.270
</td>
<td style="text-align:center;">
0.243
</td>
<td style="text-align:center;">
0.310
</td>
<td style="text-align:center;">
1.000
</td>
<td style="text-align:center;">
0.151
</td>
<td style="text-align:center;">
0.302
</td>
<td style="text-align:center;">
0.182
</td>
<td style="text-align:center;">
0.256
</td>
</tr>
<tr>
<td style="text-align:left;">
02-Phae.long1-2.wav
</td>
<td style="text-align:center;">
0.613
</td>
<td style="text-align:center;">
0.176
</td>
<td style="text-align:center;">
0.127
</td>
<td style="text-align:center;">
0.251
</td>
<td style="text-align:center;">
0.449
</td>
<td style="text-align:center;">
0.164
</td>
<td style="text-align:center;">
0.151
</td>
<td style="text-align:center;">
1.000
</td>
<td style="text-align:center;">
0.264
</td>
<td style="text-align:center;">
0.448
</td>
<td style="text-align:center;">
0.200
</td>
</tr>
<tr>
<td style="text-align:left;">
06-Phae.long3-1.wav
</td>
<td style="text-align:center;">
0.360
</td>
<td style="text-align:center;">
0.204
</td>
<td style="text-align:center;">
0.189
</td>
<td style="text-align:center;">
0.635
</td>
<td style="text-align:center;">
0.397
</td>
<td style="text-align:center;">
0.199
</td>
<td style="text-align:center;">
0.302
</td>
<td style="text-align:center;">
0.264
</td>
<td style="text-align:center;">
1.000
</td>
<td style="text-align:center;">
0.318
</td>
<td style="text-align:center;">
0.377
</td>
</tr>
<tr>
<td style="text-align:left;">
03-Phae.long1-3.wav
</td>
<td style="text-align:center;">
0.812
</td>
<td style="text-align:center;">
0.209
</td>
<td style="text-align:center;">
0.185
</td>
<td style="text-align:center;">
0.274
</td>
<td style="text-align:center;">
0.363
</td>
<td style="text-align:center;">
0.214
</td>
<td style="text-align:center;">
0.182
</td>
<td style="text-align:center;">
0.448
</td>
<td style="text-align:center;">
0.318
</td>
<td style="text-align:center;">
1.000
</td>
<td style="text-align:center;">
0.227
</td>
</tr>
<tr>
<td style="text-align:left;">
08-Phae.long3-3.wav
</td>
<td style="text-align:center;">
0.236
</td>
<td style="text-align:center;">
0.323
</td>
<td style="text-align:center;">
0.393
</td>
<td style="text-align:center;">
0.496
</td>
<td style="text-align:center;">
0.304
</td>
<td style="text-align:center;">
0.322
</td>
<td style="text-align:center;">
0.256
</td>
<td style="text-align:center;">
0.200
</td>
<td style="text-align:center;">
0.377
</td>
<td style="text-align:center;">
0.227
</td>
<td style="text-align:center;">
1.000
</td>
</tr>
</tbody>
</table>
</div>
<p> </p>
<p>and the time lag matrix:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1">xcorr.rav<span class="op">$</span><span class="st">`</span><span class="dt">lag (s)</span><span class="st">`</span></a></code></pre></div>
<p> </p>
<div style="border: 1px solid #ddd; padding: 5px; overflow-y: scroll; height:500px; overflow-x: scroll; width:808px; ">
<table class="table" style="font-size: 12px; margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">
</th>
<th style="text-align:center;">
01-Phae.long1-1.wav
</th>
<th style="text-align:center;">
10-Phae.long4-2.wav
</th>
<th style="text-align:center;">
11-Phae.long4-3.wav
</th>
<th style="text-align:center;">
07-Phae.long3-2.wav
</th>
<th style="text-align:center;">
05-Phae.long2-2.wav
</th>
<th style="text-align:center;">
09-Phae.long4-1.wav
</th>
<th style="text-align:center;">
04-Phae.long2-1.wav
</th>
<th style="text-align:center;">
02-Phae.long1-2.wav
</th>
<th style="text-align:center;">
06-Phae.long3-1.wav
</th>
<th style="text-align:center;">
03-Phae.long1-3.wav
</th>
<th style="text-align:center;">
08-Phae.long3-3.wav
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
01-Phae.long1-1.wav
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
0.011
</td>
<td style="text-align:center;">
0.006
</td>
<td style="text-align:center;">
0.028
</td>
<td style="text-align:center;">
0.034
</td>
<td style="text-align:center;">
0.006
</td>
<td style="text-align:center;">
0.023
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
0.023
</td>
<td style="text-align:center;">
-0.006
</td>
<td style="text-align:center;">
0.023
</td>
</tr>
<tr>
<td style="text-align:left;">
10-Phae.long4-2.wav
</td>
<td style="text-align:center;">
-0.011
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
-0.006
</td>
<td style="text-align:center;">
0.040
</td>
<td style="text-align:center;">
0.023
</td>
<td style="text-align:center;">
-0.006
</td>
<td style="text-align:center;">
-0.028
</td>
<td style="text-align:center;">
-0.017
</td>
<td style="text-align:center;">
0.040
</td>
<td style="text-align:center;">
-0.017
</td>
<td style="text-align:center;">
0.057
</td>
</tr>
<tr>
<td style="text-align:left;">
11-Phae.long4-3.wav
</td>
<td style="text-align:center;">
-0.006
</td>
<td style="text-align:center;">
0.006
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
0.046
</td>
<td style="text-align:center;">
0.028
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
-0.023
</td>
<td style="text-align:center;">
-0.074
</td>
<td style="text-align:center;">
0.046
</td>
<td style="text-align:center;">
-0.011
</td>
<td style="text-align:center;">
0.063
</td>
</tr>
<tr>
<td style="text-align:left;">
07-Phae.long3-2.wav
</td>
<td style="text-align:center;">
-0.028
</td>
<td style="text-align:center;">
-0.040
</td>
<td style="text-align:center;">
-0.046
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
-0.011
</td>
<td style="text-align:center;">
-0.046
</td>
<td style="text-align:center;">
-0.023
</td>
<td style="text-align:center;">
-0.034
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
-0.028
</td>
<td style="text-align:center;">
0.017
</td>
</tr>
<tr>
<td style="text-align:left;">
05-Phae.long2-2.wav
</td>
<td style="text-align:center;">
-0.034
</td>
<td style="text-align:center;">
-0.023
</td>
<td style="text-align:center;">
-0.028
</td>
<td style="text-align:center;">
0.011
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
-0.028
</td>
<td style="text-align:center;">
0.017
</td>
<td style="text-align:center;">
-0.028
</td>
<td style="text-align:center;">
0.023
</td>
<td style="text-align:center;">
-0.040
</td>
<td style="text-align:center;">
0.006
</td>
</tr>
<tr>
<td style="text-align:left;">
09-Phae.long4-1.wav
</td>
<td style="text-align:center;">
-0.006
</td>
<td style="text-align:center;">
0.006
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
0.046
</td>
<td style="text-align:center;">
0.028
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
-0.023
</td>
<td style="text-align:center;">
0.034
</td>
<td style="text-align:center;">
0.046
</td>
<td style="text-align:center;">
-0.011
</td>
<td style="text-align:center;">
0.063
</td>
</tr>
<tr>
<td style="text-align:left;">
04-Phae.long2-1.wav
</td>
<td style="text-align:center;">
-0.023
</td>
<td style="text-align:center;">
0.028
</td>
<td style="text-align:center;">
0.023
</td>
<td style="text-align:center;">
0.023
</td>
<td style="text-align:center;">
-0.017
</td>
<td style="text-align:center;">
0.023
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
-0.057
</td>
<td style="text-align:center;">
0.057
</td>
<td style="text-align:center;">
-0.051
</td>
<td style="text-align:center;">
0.017
</td>
</tr>
<tr>
<td style="text-align:left;">
02-Phae.long1-2.wav
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
0.017
</td>
<td style="text-align:center;">
0.074
</td>
<td style="text-align:center;">
0.034
</td>
<td style="text-align:center;">
0.028
</td>
<td style="text-align:center;">
-0.034
</td>
<td style="text-align:center;">
0.057
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
0.040
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
0.023
</td>
</tr>
<tr>
<td style="text-align:left;">
06-Phae.long3-1.wav
</td>
<td style="text-align:center;">
-0.023
</td>
<td style="text-align:center;">
-0.040
</td>
<td style="text-align:center;">
-0.046
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
-0.023
</td>
<td style="text-align:center;">
-0.046
</td>
<td style="text-align:center;">
-0.057
</td>
<td style="text-align:center;">
-0.040
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
-0.028
</td>
<td style="text-align:center;">
0.000
</td>
</tr>
<tr>
<td style="text-align:left;">
03-Phae.long1-3.wav
</td>
<td style="text-align:center;">
0.006
</td>
<td style="text-align:center;">
0.017
</td>
<td style="text-align:center;">
0.011
</td>
<td style="text-align:center;">
0.028
</td>
<td style="text-align:center;">
0.040
</td>
<td style="text-align:center;">
0.011
</td>
<td style="text-align:center;">
0.051
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
0.028
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
0.023
</td>
</tr>
<tr>
<td style="text-align:left;">
08-Phae.long3-3.wav
</td>
<td style="text-align:center;">
-0.023
</td>
<td style="text-align:center;">
-0.057
</td>
<td style="text-align:center;">
-0.063
</td>
<td style="text-align:center;">
-0.017
</td>
<td style="text-align:center;">
-0.006
</td>
<td style="text-align:center;">
-0.063
</td>
<td style="text-align:center;">
-0.017
</td>
<td style="text-align:center;">
-0.023
</td>
<td style="text-align:center;">
0.000
</td>
<td style="text-align:center;">
-0.023
</td>
<td style="text-align:center;">
0.000
</td>
</tr>
</tbody>
</table>
</div>
<p> </p>
<p>This output is ready for stats. For instance, the following code runs a mantel test between cross-correlation (converted to distances) and <a href="https://cran.r-project.org/package=warbleR">warbleR</a> spectral parameter pairwise dissimilarities:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1"><span class="co">#convert cross-corr to distance</span></a>
<a class="sourceLine" id="cb23-2" data-line-number="2">xcorr.rvn &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">-</span><span class="st"> </span>xcorr.rav<span class="op">$</span>correlation</a>
<a class="sourceLine" id="cb23-3" data-line-number="3"></a>
<a class="sourceLine" id="cb23-4" data-line-number="4"><span class="co">#sort matrix to match selection table</span></a>
<a class="sourceLine" id="cb23-5" data-line-number="5">xcorr.rvn &lt;-<span class="st"> </span>xcorr.rvn[<span class="kw">order</span>(<span class="kw">rownames</span>(xcorr.rvn)), <span class="kw">order</span>(<span class="kw">colnames</span>(xcorr.rvn))]</a>
<a class="sourceLine" id="cb23-6" data-line-number="6"></a>
<a class="sourceLine" id="cb23-7" data-line-number="7"><span class="co">#convert it to distance matrix</span></a>
<a class="sourceLine" id="cb23-8" data-line-number="8">xcorr.rvn &lt;-<span class="st"> </span><span class="kw">as.dist</span>(xcorr.rvn)</a>
<a class="sourceLine" id="cb23-9" data-line-number="9"></a>
<a class="sourceLine" id="cb23-10" data-line-number="10"><span class="co"># measure acoustic parameters</span></a>
<a class="sourceLine" id="cb23-11" data-line-number="11">sp.wrblR &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/warbleR/topics/specan">specan</a></span>(selec.table, <span class="dt">bp =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">11</span>), <span class="dt">wl =</span> <span class="dv">150</span>, <span class="dt">pb =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb23-12" data-line-number="12"></a>
<a class="sourceLine" id="cb23-13" data-line-number="13"><span class="co">#convert them to distance matrix</span></a>
<a class="sourceLine" id="cb23-14" data-line-number="14">dist.sp.wrblR &lt;-<span class="st"> </span><span class="kw">dist</span>(sp.wrblR)</a></code></pre></div>
<pre><code>Warning in dist(sp.wrblR): NAs introduced by coercion</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1">vegan<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/vegan/topics/mantel">mantel</a></span>(xcorr.rvn, dist.sp.wrblR)</a></code></pre></div>
<pre><code>
Mantel statistic based on Pearson's product-moment correlation 

Call:
vegan::mantel(xdis = xcorr.rvn, ydis = dist.sp.wrblR) 

Mantel statistic r: 0.259 
      Significance: 0.021 

Upper quantiles of permutations (null model):
  90%   95% 97.5%   99% 
0.150 0.191 0.231 0.287 
Permutation: free
Number of permutations: 999</code></pre>
<p> </p>
<p>There is actually a good match between the two methods!</p>
<hr>
</div>
</div>
<div id="exporting-r-data-to-raven" class="section level2">
<h2 class="hasAnchor">
<a href="#exporting-r-data-to-raven" class="anchor"></a>Exporting R data to Raven</h2>
<div id="exp_raven" class="section level3">
<h3 class="hasAnchor">
<a href="#exp_raven" class="anchor"></a><em>exp_raven</em>
</h3>
<p><em>exp_raven</em> saves a selection table in ‘.txt’ format that can be directly opened in Raven. No objects are returned into the R environment. The following code exports a data table from a single sound file:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1"><span class="co"># Select data for a single sound file</span></a>
<a class="sourceLine" id="cb27-2" data-line-number="2">st1 &lt;-<span class="st"> </span>selec.table[selec.table<span class="op">$</span>sound.files <span class="op">==</span><span class="st"> "Phae.long1.wav"</span>,]</a>
<a class="sourceLine" id="cb27-3" data-line-number="3"></a>
<a class="sourceLine" id="cb27-4" data-line-number="4"><span class="co"># Export data of a single sound file</span></a>
<a class="sourceLine" id="cb27-5" data-line-number="5"><span class="kw"><a href="../reference/exp_raven.html">exp_raven</a></span>(st1, <span class="dt">file.name =</span> <span class="st">"Phaethornis 1"</span>, <span class="dt">khz.to.hz =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p> </p>
<p>If the path to the sound file is provided, the functions exports a ‘sound selection table’ which can be directly open by <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a> (and which will also open the associated sound file):</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1"><span class="co"># Select data for a single sound file</span></a>
<a class="sourceLine" id="cb28-2" data-line-number="2">st1 &lt;-<span class="st"> </span>selec.table[selec.table<span class="op">$</span>sound.files <span class="op">==</span><span class="st"> "Phae.long1.wav"</span>,]</a>
<a class="sourceLine" id="cb28-3" data-line-number="3"></a>
<a class="sourceLine" id="cb28-4" data-line-number="4"><span class="co"># Export data of a single sound file</span></a>
<a class="sourceLine" id="cb28-5" data-line-number="5"><span class="kw"><a href="../reference/exp_raven.html">exp_raven</a></span>(st1, <span class="dt">file.name =</span> <span class="st">"Phaethornis 1"</span>, <span class="dt">khz.to.hz =</span> <span class="ot">TRUE</span>, <span class="dt">sound.file.path =</span> <span class="kw">tempdir</span>())</a></code></pre></div>
<p><img src="https://raw.githubusercontent.com/maRce10/Rraven/master/gifs/opt2_short_exp_raven1.gif" alt="gif2">  </p>
<p>This is useful to add new selections or even new measurements:</p>
<p><img src="https://raw.githubusercontent.com/maRce10/Rraven/master/gifs/opt2_short_exp_raven2.gif" alt="gif3">  </p>
<p>If several sound files are available, users can either export them as a single selection file or as multiple selection files (one for each sound file). This example creates a multiple sound file selection:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" data-line-number="1"><span class="kw"><a href="../reference/exp_raven.html">exp_raven</a></span>(<span class="dt">X =</span> selec.table, <span class="dt">file.name =</span> <span class="st">"Phaethornis multiple sound files"</span>, </a>
<a class="sourceLine" id="cb29-2" data-line-number="2"><span class="dt">sound.file.path =</span> <span class="kw">tempdir</span>(), <span class="dt">single.file =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p> </p>
<p>These type of tables can be opened as a multiple file display in <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a>:</p>
<p><img src="https://raw.githubusercontent.com/maRce10/Rraven/master/gifs/opt2_short_exp_raven3.gif" alt="gif4">  </p>
<hr>
</div>
</div>
<div id="running-raven-from-r" class="section level2">
<h2 class="hasAnchor">
<a href="#running-raven-from-r" class="anchor"></a>Running Raven from R</h2>
<div id="run_raven" class="section level3">
<h3 class="hasAnchor">
<a href="#run_raven" class="anchor"></a><em>run_raven</em>
</h3>
<p>The function opens multiple sound files simultaneously in <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a>. When the analysis is finished (and the <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a> window is closed) the data can be automatically imported back into R using the ‘import’ argument. Note that <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a>, unlike R, can also handle files in ‘mp3’, ‘flac’ and ‘aif’ format .</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1"><span class="co"># here replace with the path where Raven is install in your computer</span></a>
<a class="sourceLine" id="cb30-2" data-line-number="2">raven.path &lt;-<span class="st"> "PATH_TO_RAVEN_DIRECTORY_HERE"</span> </a>
<a class="sourceLine" id="cb30-3" data-line-number="3"></a>
<a class="sourceLine" id="cb30-4" data-line-number="4"><span class="co"># run function </span></a>
<a class="sourceLine" id="cb30-5" data-line-number="5"><span class="kw"><a href="../reference/run_raven.html">run_raven</a></span>(<span class="dt">raven.path =</span> raven.path, <span class="dt">sound.files =</span> <span class="kw">c</span>(<span class="st">"Phae.long1.wav"</span>, <span class="st">"Phae.long2.wav"</span>, <span class="st">"Phae.long3.wav"</span>, <span class="st">"Phae.long4.wav"</span>), <span class="dt">import =</span> <span class="ot">TRUE</span>, </a>
<a class="sourceLine" id="cb30-6" data-line-number="6"> <span class="dt">all.data =</span> <span class="ot">TRUE</span>)  </a></code></pre></div>
<p><img src="https://raw.githubusercontent.com/maRce10/Rraven/master/gifs/opt2_short_run_raven1.gif" alt="gif5">  </p>
<p>See <code>imp_raven</code> above for more details on additional settings when importing selections.</p>
<hr>
</div>
<div id="raven_batch_detec" class="section level3">
<h3 class="hasAnchor">
<a href="#raven_batch_detec" class="anchor"></a><em>raven_batch_detec</em>
</h3>
<p>As the name suggests, <em>raven_batch_detec</em> runs <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a> detector on multiple sound files (sequentially). Batch detection in <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a> can also take files in ‘mp3’, ‘flac’ and ‘aif’ format (although this could not be further analyzed in R!).</p>
<p>This is example runs the detector on one of the example sound files that comes by default with <a href="http://www.birds.cornell.edu/brp/raven/RavenOverview.html">Raven</a>:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1">detec.res &lt;-<span class="st"> </span><span class="kw"><a href="../reference/raven_batch_detec.html">raven_batch_detec</a></span>(<span class="dt">raven.path =</span> raven.path, </a>
<a class="sourceLine" id="cb31-2" data-line-number="2"><span class="dt">sound.files =</span> <span class="st">"BlackCappedVireo.aif"</span>, <span class="dt">path =</span> <span class="kw">file.path</span>(raven.path, <span class="st">"Examples"</span>))</a></code></pre></div>
<p><img src="https://raw.githubusercontent.com/maRce10/Rraven/master/gifs/opt2_short_raven_batch_detec.gif" alt="gif6">  </p>
<hr>
<p>Please report any bugs <a href="https://github.com/maRce10/Rraven/issues">here</a>. The <code>Rraven</code> package should be cited as follows:</p>
<p>Araya-Salas, M. (2017), <em>Rraven: connecting R and Raven bioacoustic software</em>. R package version 1.0.0.</p>
<hr>
<p><font size="4">Session information</font></p>
<pre><code>R version 3.5.1 (2018-07-02)
Platform: x86_64-pc-linux-gnu (64-bit)
Running under: Ubuntu 18.10

Matrix products: default
BLAS: /usr/lib/x86_64-linux-gnu/openblas/libblas.so.3
LAPACK: /usr/lib/x86_64-linux-gnu/libopenblasp-r0.3.3.so

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C               LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8     LC_MONETARY=en_US.UTF-8   
 [6] LC_MESSAGES=en_US.UTF-8    LC_PAPER=en_US.UTF-8       LC_NAME=C                  LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] kableExtra_0.9.0   knitr_1.20         Rraven_1.0.5       warbleR_1.1.16     NatureSounds_1.0.1 seewave_2.1.0      tuneR_1.3.3       
[8] maps_3.3.0        

loaded via a namespace (and not attached):
 [1] Rcpp_1.0.0        lattice_0.20-35   fftw_1.0-4        assertthat_0.2.0  rprojroot_1.3-2   digest_0.6.18     R6_2.4.0          Sim.DiffProc_4.3 
 [9] backports_1.1.3   signal_0.7-6      evaluate_0.12     pracma_2.2.2      httr_1.4.0        highr_0.7         pillar_1.3.0      rlang_0.3.1      
[17] rstudioapi_0.9.0  vegan_2.5-3       Matrix_1.2-14     rmarkdown_1.10    pkgdown_1.1.0     desc_1.2.0        readr_1.3.1       stringr_1.3.1    
[25] RCurl_1.95-4.11   munsell_0.5.0     proxy_0.4-22      compiler_3.5.1    Deriv_3.8.5       pkgconfig_2.0.2   mgcv_1.8-24       htmltools_0.3.6  
[33] tidyselect_0.2.5  tibble_1.4.2      roxygen2_6.1.1    dtw_1.20-1        permute_0.9-4     viridisLite_0.3.0 crayon_1.3.4      dplyr_0.7.6      
[41] MASS_7.3-50       bitops_1.0-6      commonmark_1.7    grid_3.5.1        nlme_3.1-137      magrittr_1.5      scales_1.0.0      stringi_1.2.4    
[49] pbapply_1.4-0     fs_1.2.6          bindrcpp_0.2.2    xml2_1.2.0        rjson_0.2.20      iterators_1.0.10  tools_3.5.1       glue_1.3.0       
[57] purrr_0.2.5       hms_0.4.2         jpeg_0.1-8        parallel_3.5.1    yaml_2.2.0        colorspace_1.3-2  cluster_2.0.7-1   soundgen_1.3.2   
[65] rvest_0.3.2       memoise_1.1.0     bindr_0.1.1      </code></pre>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#importing-data-from-raven">Importing data from Raven</a></li>
      <li><a href="#catalog"><img src="Catalog.jpeg" alt="catalog"></a></li>
      <li><a href="#exporting-r-data-to-raven">Exporting R data to Raven</a></li>
      <li><a href="#running-raven-from-r">Running Raven from R</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Marcelo Araya-Salas.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  
</body>
</html>
